module.exports=[23237,a=>{"use strict";let b=(0,a.i(70106).default)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);a.s(["QrCode",()=>b],23237)},73570,a=>{"use strict";let b=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},88079,(a,b,c)=>{"use strict";let d={};d.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},d.localCName=d.generateIdentifier(),d.splitLines=function(a){return a.trim().split("\n").map(a=>a.trim())},d.splitSections=function(a){return a.split("\nm=").map((a,b)=>(b>0?"m="+a:a).trim()+"\r\n")},d.getDescription=function(a){let b=d.splitSections(a);return b&&b[0]},d.getMediaSections=function(a){let b=d.splitSections(a);return b.shift(),b},d.matchPrefix=function(a,b){return d.splitLines(a).filter(a=>0===a.indexOf(b))},d.parseCandidate=function(a){let b,c={foundation:(b=0===a.indexOf("a=candidate:")?a.substring(12).split(" "):a.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[b[1]]||b[1],protocol:b[2].toLowerCase(),priority:parseInt(b[3],10),ip:b[4],address:b[4],port:parseInt(b[5],10),type:b[7]};for(let a=8;a<b.length;a+=2)switch(b[a]){case"raddr":c.relatedAddress=b[a+1];break;case"rport":c.relatedPort=parseInt(b[a+1],10);break;case"tcptype":c.tcpType=b[a+1];break;case"ufrag":c.ufrag=b[a+1],c.usernameFragment=b[a+1];break;default:void 0===c[b[a]]&&(c[b[a]]=b[a+1])}return c},d.writeCandidate=function(a){let b=[];b.push(a.foundation);let c=a.component;"rtp"===c?b.push(1):"rtcp"===c?b.push(2):b.push(c),b.push(a.protocol.toUpperCase()),b.push(a.priority),b.push(a.address||a.ip),b.push(a.port);let d=a.type;return b.push("typ"),b.push(d),"host"!==d&&a.relatedAddress&&a.relatedPort&&(b.push("raddr"),b.push(a.relatedAddress),b.push("rport"),b.push(a.relatedPort)),a.tcpType&&"tcp"===a.protocol.toLowerCase()&&(b.push("tcptype"),b.push(a.tcpType)),(a.usernameFragment||a.ufrag)&&(b.push("ufrag"),b.push(a.usernameFragment||a.ufrag)),"candidate:"+b.join(" ")},d.parseIceOptions=function(a){return a.substring(14).split(" ")},d.parseRtpMap=function(a){let b=a.substring(9).split(" "),c={payloadType:parseInt(b.shift(),10)};return c.name=(b=b[0].split("/"))[0],c.clockRate=parseInt(b[1],10),c.channels=3===b.length?parseInt(b[2],10):1,c.numChannels=c.channels,c},d.writeRtpMap=function(a){let b=a.payloadType;void 0!==a.preferredPayloadType&&(b=a.preferredPayloadType);let c=a.channels||a.numChannels||1;return"a=rtpmap:"+b+" "+a.name+"/"+a.clockRate+(1!==c?"/"+c:"")+"\r\n"},d.parseExtmap=function(a){let b=a.substring(9).split(" ");return{id:parseInt(b[0],10),direction:b[0].indexOf("/")>0?b[0].split("/")[1]:"sendrecv",uri:b[1],attributes:b.slice(2).join(" ")}},d.writeExtmap=function(a){return"a=extmap:"+(a.id||a.preferredId)+(a.direction&&"sendrecv"!==a.direction?"/"+a.direction:"")+" "+a.uri+(a.attributes?" "+a.attributes:"")+"\r\n"},d.parseFmtp=function(a){let b,c={},d=a.substring(a.indexOf(" ")+1).split(";");for(let a=0;a<d.length;a++)c[(b=d[a].trim().split("="))[0].trim()]=b[1];return c},d.writeFmtp=function(a){let b="",c=a.payloadType;if(void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType),a.parameters&&Object.keys(a.parameters).length){let d=[];Object.keys(a.parameters).forEach(b=>{void 0!==a.parameters[b]?d.push(b+"="+a.parameters[b]):d.push(b)}),b+="a=fmtp:"+c+" "+d.join(";")+"\r\n"}return b},d.parseRtcpFb=function(a){let b=a.substring(a.indexOf(" ")+1).split(" ");return{type:b.shift(),parameter:b.join(" ")}},d.writeRtcpFb=function(a){let b="",c=a.payloadType;return void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType),a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(a=>{b+="a=rtcp-fb:"+c+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+"\r\n"}),b},d.parseSsrcMedia=function(a){let b=a.indexOf(" "),c={ssrc:parseInt(a.substring(7,b),10)},d=a.indexOf(":",b);return d>-1?(c.attribute=a.substring(b+1,d),c.value=a.substring(d+1)):c.attribute=a.substring(b+1),c},d.parseSsrcGroup=function(a){let b=a.substring(13).split(" ");return{semantics:b.shift(),ssrcs:b.map(a=>parseInt(a,10))}},d.getMid=function(a){let b=d.matchPrefix(a,"a=mid:")[0];if(b)return b.substring(6)},d.parseFingerprint=function(a){let b=a.substring(14).split(" ");return{algorithm:b[0].toLowerCase(),value:b[1].toUpperCase()}},d.getDtlsParameters=function(a,b){return{role:"auto",fingerprints:d.matchPrefix(a+b,"a=fingerprint:").map(d.parseFingerprint)}},d.writeDtlsParameters=function(a,b){let c="a=setup:"+b+"\r\n";return a.fingerprints.forEach(a=>{c+="a=fingerprint:"+a.algorithm+" "+a.value+"\r\n"}),c},d.parseCryptoLine=function(a){let b=a.substring(9).split(" ");return{tag:parseInt(b[0],10),cryptoSuite:b[1],keyParams:b[2],sessionParams:b.slice(3)}},d.writeCryptoLine=function(a){return"a=crypto:"+a.tag+" "+a.cryptoSuite+" "+("object"==typeof a.keyParams?d.writeCryptoKeyParams(a.keyParams):a.keyParams)+(a.sessionParams?" "+a.sessionParams.join(" "):"")+"\r\n"},d.parseCryptoKeyParams=function(a){if(0!==a.indexOf("inline:"))return null;let b=a.substring(7).split("|");return{keyMethod:"inline",keySalt:b[0],lifeTime:b[1],mkiValue:b[2]?b[2].split(":")[0]:void 0,mkiLength:b[2]?b[2].split(":")[1]:void 0}},d.writeCryptoKeyParams=function(a){return a.keyMethod+":"+a.keySalt+(a.lifeTime?"|"+a.lifeTime:"")+(a.mkiValue&&a.mkiLength?"|"+a.mkiValue+":"+a.mkiLength:"")},d.getCryptoParameters=function(a,b){return d.matchPrefix(a+b,"a=crypto:").map(d.parseCryptoLine)},d.getIceParameters=function(a,b){let c=d.matchPrefix(a+b,"a=ice-ufrag:")[0],e=d.matchPrefix(a+b,"a=ice-pwd:")[0];return c&&e?{usernameFragment:c.substring(12),password:e.substring(10)}:null},d.writeIceParameters=function(a){let b="a=ice-ufrag:"+a.usernameFragment+"\r\na=ice-pwd:"+a.password+"\r\n";return a.iceLite&&(b+="a=ice-lite\r\n"),b},d.parseRtpParameters=function(a){let b={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=d.splitLines(a)[0].split(" ");b.profile=c[2];for(let e=3;e<c.length;e++){let f=c[e],g=d.matchPrefix(a,"a=rtpmap:"+f+" ")[0];if(g){let c=d.parseRtpMap(g),e=d.matchPrefix(a,"a=fmtp:"+f+" ");switch(c.parameters=e.length?d.parseFmtp(e[0]):{},c.rtcpFeedback=d.matchPrefix(a,"a=rtcp-fb:"+f+" ").map(d.parseRtcpFb),b.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":b.fecMechanisms.push(c.name.toUpperCase())}}}d.matchPrefix(a,"a=extmap:").forEach(a=>{b.headerExtensions.push(d.parseExtmap(a))});let e=d.matchPrefix(a,"a=rtcp-fb:* ").map(d.parseRtcpFb);return b.codecs.forEach(a=>{e.forEach(b=>{a.rtcpFeedback.find(a=>a.type===b.type&&a.parameter===b.parameter)||a.rtcpFeedback.push(b)})}),b},d.writeRtpDescription=function(a,b){let c="";c+="m="+a+" ",c+=b.codecs.length>0?"9":"0",c+=" "+(b.profile||"UDP/TLS/RTP/SAVPF")+" ",c+=b.codecs.map(a=>void 0!==a.preferredPayloadType?a.preferredPayloadType:a.payloadType).join(" ")+"\r\n",c+="c=IN IP4 0.0.0.0\r\n",c+="a=rtcp:9 IN IP4 0.0.0.0\r\n",b.codecs.forEach(a=>{c+=d.writeRtpMap(a),c+=d.writeFmtp(a),c+=d.writeRtcpFb(a)});let e=0;return b.codecs.forEach(a=>{a.maxptime>e&&(e=a.maxptime)}),e>0&&(c+="a=maxptime:"+e+"\r\n"),b.headerExtensions&&b.headerExtensions.forEach(a=>{c+=d.writeExtmap(a)}),c},d.parseRtpEncodingParameters=function(a){let b,c=[],e=d.parseRtpParameters(a),f=-1!==e.fecMechanisms.indexOf("RED"),g=-1!==e.fecMechanisms.indexOf("ULPFEC"),h=d.matchPrefix(a,"a=ssrc:").map(a=>d.parseSsrcMedia(a)).filter(a=>"cname"===a.attribute),i=h.length>0&&h[0].ssrc,j=d.matchPrefix(a,"a=ssrc-group:FID").map(a=>a.substring(17).split(" ").map(a=>parseInt(a,10)));j.length>0&&j[0].length>1&&j[0][0]===i&&(b=j[0][1]),e.codecs.forEach(a=>{if("RTX"===a.name.toUpperCase()&&a.parameters.apt){let d={ssrc:i,codecPayloadType:parseInt(a.parameters.apt,10)};i&&b&&(d.rtx={ssrc:b}),c.push(d),f&&((d=JSON.parse(JSON.stringify(d))).fec={ssrc:i,mechanism:g?"red+ulpfec":"red"},c.push(d))}}),0===c.length&&i&&c.push({ssrc:i});let k=d.matchPrefix(a,"b=");return k.length&&(k=0===k[0].indexOf("b=TIAS:")?parseInt(k[0].substring(7),10):0===k[0].indexOf("b=AS:")?1e3*parseInt(k[0].substring(5),10)*.95-16e3:void 0,c.forEach(a=>{a.maxBitrate=k})),c},d.parseRtcpParameters=function(a){let b={},c=d.matchPrefix(a,"a=ssrc:").map(a=>d.parseSsrcMedia(a)).filter(a=>"cname"===a.attribute)[0];c&&(b.cname=c.value,b.ssrc=c.ssrc);let e=d.matchPrefix(a,"a=rtcp-rsize");return b.reducedSize=e.length>0,b.compound=0===e.length,b.mux=d.matchPrefix(a,"a=rtcp-mux").length>0,b},d.writeRtcpParameters=function(a){let b="";return a.reducedSize&&(b+="a=rtcp-rsize\r\n"),a.mux&&(b+="a=rtcp-mux\r\n"),void 0!==a.ssrc&&a.cname&&(b+="a=ssrc:"+a.ssrc+" cname:"+a.cname+"\r\n"),b},d.parseMsid=function(a){let b,c=d.matchPrefix(a,"a=msid:");if(1===c.length)return{stream:(b=c[0].substring(7).split(" "))[0],track:b[1]};let e=d.matchPrefix(a,"a=ssrc:").map(a=>d.parseSsrcMedia(a)).filter(a=>"msid"===a.attribute);if(e.length>0)return{stream:(b=e[0].value.split(" "))[0],track:b[1]}},d.parseSctpDescription=function(a){let b,c=d.parseMLine(a),e=d.matchPrefix(a,"a=max-message-size:");e.length>0&&(b=parseInt(e[0].substring(19),10)),isNaN(b)&&(b=65536);let f=d.matchPrefix(a,"a=sctp-port:");if(f.length>0)return{port:parseInt(f[0].substring(12),10),protocol:c.fmt,maxMessageSize:b};let g=d.matchPrefix(a,"a=sctpmap:");if(g.length>0){let a=g[0].substring(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:b}}},d.writeSctpDescription=function(a,b){let c=[];return c="DTLS/SCTP"!==a.protocol?["m="+a.kind+" 9 "+a.protocol+" "+b.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+b.port+"\r\n"]:["m="+a.kind+" 9 "+a.protocol+" "+b.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+b.port+" "+b.protocol+" 65535\r\n"],void 0!==b.maxMessageSize&&c.push("a=max-message-size:"+b.maxMessageSize+"\r\n"),c.join("")},d.generateSessionId=function(){return Math.random().toString().substr(2,22)},d.writeSessionBoilerplate=function(a,b,c){return"v=0\r\no="+(c||"thisisadapterortc")+" "+(a||d.generateSessionId())+" "+(void 0!==b?b:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},d.getDirection=function(a,b){let c=d.splitLines(a);for(let a=0;a<c.length;a++)switch(c[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return c[a].substring(2)}return b?d.getDirection(b):"sendrecv"},d.getKind=function(a){return d.splitLines(a)[0].split(" ")[0].substring(2)},d.isRejected=function(a){return"0"===a.split(" ",2)[1]},d.parseMLine=function(a){let b=d.splitLines(a)[0].substring(2).split(" ");return{kind:b[0],port:parseInt(b[1],10),protocol:b[2],fmt:b.slice(3).join(" ")}},d.parseOLine=function(a){let b=d.matchPrefix(a,"o=")[0].substring(2).split(" ");return{username:b[0],sessionId:b[1],sessionVersion:parseInt(b[2],10),netType:b[3],addressType:b[4],address:b[5]}},d.isValidSDP=function(a){if("string"!=typeof a||0===a.length)return!1;let b=d.splitLines(a);for(let a=0;a<b.length;a++)if(b[a].length<2||"="!==b[a].charAt(1))return!1;return!0},b.exports=d},34479,a=>{"use strict";var b,c=a=>{throw TypeError(a)},d=(a,b,d)=>b.has(a)||c("Cannot "+d);let e=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],f=e.map(([a])=>a),g=f.filter((a,b)=>"L"===e[b][1]),h=f.filter((a,b)=>"M"===e[b][1]),i=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"],j=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"],k=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"],l=["Ignore","Read","Require"],m=["Plain","ECI","HRI","Hex","Escaped"],n={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function o(a){var b,c,d,k;return{...a,formats:a.formats.reduce((a,b)=>a|function a(b){switch(b){case"Linear-Codes":return g.reduce((b,c)=>b|a(c),0);case"Matrix-Codes":return h.reduce((b,c)=>b|a(c),0);case"Any":return(1<<e.length)-1;case"None":return 0;default:return 1<<f.indexOf(b)}}(b),0),binarizer:(b=a.binarizer,i.indexOf(b)),eanAddOnSymbol:(c=a.eanAddOnSymbol,l.indexOf(c)),textMode:(d=a.textMode,m.indexOf(d)),characterSet:"UnicodeBig"===(k=a.characterSet)?j.indexOf("UTF16BE"):j.indexOf(k)}}let p={locateFile:(a,b)=>{let c=a.match(/_(.+?)\.wasm$/);return c?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.2.4/dist/${c[1]}/${a}`:b+a}},q=new WeakMap;function r(a,b){return Object.is(a,b)||Object.keys(a).length===Object.keys(b).length&&Object.keys(a).every(c=>Object.hasOwn(b,c)&&a[c]===b[c])}function s(a,{overrides:b,equalityFn:c=r,fireImmediately:d=!1}={}){var e;let f,[g,h]=null!=(e=q.get(a))?e:[p],i=null!=b?b:g;if(d){if(h&&(f=c(g,i)))return h;let b=a({...i});return q.set(a,[i,b]),b}(null!=f?f:c(g,i))||q.set(a,[i])}async function t(a,b,c=n){let d,e,g={...n,...c},h=await s(a,{fireImmediately:!0});if("width"in b&&"height"in b&&"data"in b){let{data:a,data:{byteLength:c},width:f,height:i}=b;e=h._malloc(c),h.HEAPU8.set(a,e),d=h.readBarcodesFromPixmap(e,f,i,o(g))}else{let a,c;if("buffer"in b)[a,c]=[b.byteLength,b];else if("byteLength"in b)[a,c]=[b.byteLength,new Uint8Array(b)];else if("size"in b)[a,c]=[b.size,new Uint8Array(await b.arrayBuffer())];else throw TypeError("Invalid input type");e=h._malloc(a),h.HEAPU8.set(c,e),d=h.readBarcodesFromImage(e,a,o(g))}h._free(e);let i=[];for(let a=0;a<d.size();++a)i.push(function(a){var b;return{...a,format:0===(b=a.format)?"None":f[31-Math.clz32(b)],contentType:k[a.contentType],eccLevel:a.ecLevel}}(d.get(a)));return i}async function u(a={}){let b,c;var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,v,w,x=!!globalThis.window,y="u">typeof Bun,z=!!globalThis.WorkerGlobalScope;null!=(v=globalThis.process)&&null!=(v=v.versions)&&v.node&&(null==(w=globalThis.process)||w.type);var A,B="./this.program",C="";if(x||z||y){try{C=new URL(".",A).href}catch{}z&&(E=a=>{var b=new XMLHttpRequest;return b.open("GET",a,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),D=async a=>{var b=await fetch(a,{credentials:"same-origin"});if(b.ok)return b.arrayBuffer();throw Error(b.status+" : "+b.url)}}var D,E,F,G,H,I,J,K,L,M,N,O,P,Q=console.log.bind(console),R=console.error.bind(console),S=!1,T=!1;function U(){var b=r.buffer;I=new Int8Array(b),K=new Int16Array(b),a.HEAPU8=J=new Uint8Array(b),L=new Uint16Array(b),M=new Int32Array(b),N=new Uint32Array(b),O=new Float32Array(b),P=new Float64Array(b)}function V(b){null==(c=a.onAbort)||c.call(a,b),R(b="Aborted("+b+")"),S=!0,b+=". Build with -sASSERTIONS for more info.";var c,d,e=new WebAssembly.RuntimeError(b);throw null==(d=H)||d(e),e}async function W(a){if(!F)try{var b=await D(a);return new Uint8Array(b)}catch{}if(a==d&&F)return new Uint8Array(F);if(E)return E(a);throw"both async and sync fetching of the wasm failed"}async function X(a,b){try{var c=await W(a);return await WebAssembly.instantiate(c,b)}catch(a){R(`failed to asynchronously prepare wasm: ${a}`),V(a)}}async function Y(a,b,c){if(!a&&WebAssembly.instantiateStreaming)try{var d=fetch(b,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(d,c)}catch(a){R(`wasm streaming compile failed: ${a}`),R("falling back to ArrayBuffer instantiation")}return X(b,c)}async function Z(){function b(b,c){var d;return e=(d=t=b.exports).ya,f=a._free=d.za,g=a._malloc=d.Ba,h=d.Ca,i=d.Da,j=d.Ea,k=d.Fa,l=d.Ga,m=d.Ha,n=d.Ia,o=d.Ja,aR.viijii=d.Ka,p=aR.iiijj=d.La,aR.jiji=d.Ma,q=aR.jiiii=d.Na,aR.iiiiij=d.Oa,aR.iiiiijj=d.Pa,aR.iiiiiijj=d.Qa,r=d.wa,s=d.Aa,U(),t}var c,u={a:bt};return a.instantiateWasm?new Promise((c,d)=>{a.instantiateWasm(u,(a,d)=>{c(b(a))})}):(null!=d||(c="zxing_reader.wasm",d=a.locateFile?a.locateFile(c,C):C+c),b((await Y(F,d,u)).instance))}var $=b=>{for(;b.length>0;)b.shift()(a)},_=[],aa=a=>_.push(a),ab=[],ac=a=>ab.push(a),ad=[],ae=0,af=0;class ag{constructor(a){this.excPtr=a,this.ptr=a-24}set_type(a){N[this.ptr+4>>2]=a}get_type(){return N[this.ptr+4>>2]}set_destructor(a){N[this.ptr+8>>2]=a}get_destructor(){return N[this.ptr+8>>2]}set_caught(a){a=+!!a,I[this.ptr+12]=a}get_caught(){return 0!=I[this.ptr+12]}set_rethrown(a){a=+!!a,I[this.ptr+13]=a}get_rethrown(){return 0!=I[this.ptr+13]}init(a,b){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(b)}set_adjusted_ptr(a){N[this.ptr+16>>2]=a}get_adjusted_ptr(){return N[this.ptr+16>>2]}}var ah=a=>j(a),ai=a=>{var b=af;if(!b)return ah(0),0;var c=new ag(b);c.set_adjusted_ptr(b);var d=c.get_type();if(!d)return ah(0),b;for(var e of a){if(0===e||e===d)break;var f=c.ptr+16;if(o(e,d,f))return ah(e),b}return ah(d),b},aj={},ak=a=>{for(;a.length;){var b=a.pop();a.pop()(b)}};function al(a){return this.fromWireType(N[a>>2])}var am={},an={},ao={},ap=class extends Error{constructor(a){super(a),this.name="InternalError"}},aq=a=>{throw new ap(a)},ar=(a,b,c)=>{function d(b){var d=c(b);d.length!==a.length&&aq("Mismatched type converter count");for(var e=0;e<a.length;++e)av(a[e],d[e])}a.forEach(a=>ao[a]=b);var e=Array(b.length),f=[],g=0;for(let a=0;a<b.length;++a){let c=b[a];an.hasOwnProperty(c)?e[a]=an[c]:(f.push(c),am.hasOwnProperty(c)||(am[c]=[]),am[c].push(()=>{e[a]=an[c],++g===f.length&&d(e)}))}0===f.length&&d(e)},as=a=>{for(var b="";;){var c=J[a++];if(!c)return b;b+=String.fromCharCode(c)}},at=class extends Error{constructor(a){super(a),this.name="BindingError"}},au=a=>{throw new at(a)};function av(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var d=b.name;if(a||au(`type "${d}" must have a positive integer typeid pointer`),an.hasOwnProperty(a)){if(c.ignoreDuplicateRegistrations)return;au(`Cannot register type '${d}' twice`)}if(an[a]=b,delete ao[a],am.hasOwnProperty(a)){var e=am[a];delete am[a],e.forEach(a=>a())}}(a,b,c)}var aw=a=>{au(a.$$.ptrType.registeredClass.name+" instance already deleted")},ax=!1,ay=a=>{},az=a=>{a.count.value-=1,0===a.count.value&&(a.smartPtr?a.smartPtrType.rawDestructor(a.smartPtr):a.ptrType.registeredClass.rawDestructor(a.ptr))},aA=a=>globalThis.FinalizationRegistry?(ax=new FinalizationRegistry(a=>{az(a.$$)}),aA=a=>{var b=a.$$;return b.smartPtr&&ax.register(a,{$$:b},a),a},ay=a=>ax.unregister(a),aA(a)):(aA=a=>a,a);function aB(){}var aC=(a,b)=>Object.defineProperty(b,"name",{value:a}),aD={},aE=(a,b,c)=>{if(void 0===a[b].overloadTable){var d=a[b];a[b]=function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a[b].overloadTable.hasOwnProperty(e.length)||au(`Function '${c}' called with an invalid number of arguments (${e.length}) - expects one of (${a[b].overloadTable})!`),a[b].overloadTable[e.length].apply(this,e)},a[b].overloadTable=[],a[b].overloadTable[d.argCount]=d}},aF=(b,c,d)=>{a.hasOwnProperty(b)?((void 0===d||void 0!==a[b].overloadTable&&void 0!==a[b].overloadTable[d])&&au(`Cannot register public name '${b}' twice`),aE(a,b,b),a[b].overloadTable.hasOwnProperty(d)&&au(`Cannot register multiple overloads of a function with the same number of arguments (${d})!`),a[b].overloadTable[d]=c):(a[b]=c,a[b].argCount=d)};function aG(a,b,c,d,e,f,g,h){this.name=a,this.constructor=b,this.instancePrototype=c,this.rawDestructor=d,this.baseClass=e,this.getActualType=f,this.upcast=g,this.downcast=h,this.pureVirtualFunctions=[]}var aH=(a,b,c)=>{for(;b!==c;)b.upcast||au(`Expected null or instance of ${c.name}, got an instance of ${b.name}`),a=b.upcast(a),b=b.baseClass;return a},aI=a=>{if(null===a)return"null";var b=typeof a;return"object"===b||"array"===b||"function"===b?a.toString():""+a};function aJ(a,b){if(null===b)return this.isReference&&au(`null is not a valid ${this.name}`),0;b.$$||au(`Cannot pass "${aI(b)}" as a ${this.name}`),b.$$.ptr||au(`Cannot pass deleted object as a pointer of type ${this.name}`);var c=b.$$.ptrType.registeredClass;return aH(b.$$.ptr,c,this.registeredClass)}function aK(a,b){if(null===b)return this.isReference&&au(`null is not a valid ${this.name}`),this.isSmartPointer?(c=this.rawConstructor(),null!==a&&a.push(this.rawDestructor,c),c):0;b&&b.$$||au(`Cannot pass "${aI(b)}" as a ${this.name}`),b.$$.ptr||au(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&b.$$.ptrType.isConst&&au(`Cannot convert argument of type ${b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name} to parameter type ${this.name}`);var c,d=b.$$.ptrType.registeredClass;if(c=aH(b.$$.ptr,d,this.registeredClass),this.isSmartPointer)switch(void 0===b.$$.smartPtr&&au("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:b.$$.smartPtrType===this?c=b.$$.smartPtr:au(`Cannot convert argument of type ${b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:c=b.$$.smartPtr;break;case 2:if(b.$$.smartPtrType===this)c=b.$$.smartPtr;else{var e=b.clone();c=this.rawShare(c,a4.toHandle(()=>e.delete())),null!==a&&a.push(this.rawDestructor,c)}break;default:au("Unsupporting sharing policy")}return c}function aL(a,b){if(null===b)return this.isReference&&au(`null is not a valid ${this.name}`),0;b.$$||au(`Cannot pass "${aI(b)}" as a ${this.name}`),b.$$.ptr||au(`Cannot pass deleted object as a pointer of type ${this.name}`),b.$$.ptrType.isConst&&au(`Cannot convert argument of type ${b.$$.ptrType.name} to parameter type ${this.name}`);var c=b.$$.ptrType.registeredClass;return aH(b.$$.ptr,c,this.registeredClass)}var aM=(a,b,c)=>{if(b===c)return a;if(void 0===c.baseClass)return null;var d=aM(a,b,c.baseClass);return null===d?null:c.downcast(d)},aN={},aO=(a,b)=>(b.ptrType&&b.ptr||aq("makeClassHandle requires ptr and ptrType"),!!b.smartPtrType!=!!b.smartPtr&&aq("Both smartPtrType and smartPtr must be specified"),b.count={value:1},aA(Object.create(a,{$$:{value:b,writable:!0}})));function aP(a,b,c,d,e,f,g,h,i,j,k){this.name=a,this.registeredClass=b,this.isReference=c,this.isConst=d,this.isSmartPointer=e,this.pointeeType=f,this.sharingPolicy=g,this.rawGetPointee=h,this.rawConstructor=i,this.rawShare=j,this.rawDestructor=k,e||void 0!==b.baseClass?this.toWireType=aK:(d?this.toWireType=aJ:this.toWireType=aL,this.destructorFunction=null)}var aQ=(b,c,d)=>{a.hasOwnProperty(b)||aq("Replacing nonexistent public symbol"),void 0!==a[b].overloadTable&&void 0!==d?a[b].overloadTable[d]=c:(a[b]=c,a[b].argCount=d)},aR={},aS=[],aT=a=>{var b=aS[a];return b||(aS[a]=b=s.get(a)),b},aU=function(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(a.includes("j")){var d;return(0,aR[d=a.replace(/p/g,"i")])(b,...c)}return aT(b)(...c)},aV=function(a,b){let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return aU(a,b,e,c)}},aW=function(a,b){var c=(a=as(a)).includes("j")?aV(a,b):aT(b);return"function"!=typeof c&&au(`unknown function pointer with signature ${a}: ${b}`),c};class aX extends Error{}var aY=a=>{var b=e(a),c=as(b);return f(b),c},aZ=(a,b)=>{var c=[],d={};throw b.forEach(function a(b){if(!d[b]&&!an[b]){if(ao[b])return void ao[b].forEach(a);c.push(b),d[b]=!0}}),new aX(`${a}: `+c.map(aY).join([", "]))},a$=(a,b)=>{for(var c=[],d=0;d<a;d++)c.push(N[b+4*d>>2]);return c};function a_(a,b,c,d,e,f){var g=b.length;g<2&&au("argTypes array size mismatch! Must at least get return value and 'this' types!");var h=null!==b[1]&&null!==c,i=function(a){for(var b=1;b<a.length;++b)if(null!==a[b]&&void 0===a[b].destructorFunction)return!0;return!1}(b),j=!b[0].isVoid,k=g-2,l=Array(k),m=[],n=[];return aC(a,function(){n.length=0,m.length=h?2:1,m[0]=e,h&&(a=b[1].toWireType(n,this),m[1]=a);for(var a,c=0;c<k;++c)l[c]=b[c+2].toWireType(n,c<0||arguments.length<=c?void 0:arguments[c]),m.push(l[c]);var f=d(...m);if(i)ak(n);else for(var g=h?1:2;g<b.length;g++){var o=1===g?a:l[g-2];null!==b[g].destructorFunction&&b[g].destructorFunction(o)}return j?b[0].fromWireType(f):void 0})}var a0=a=>{let b=(a=a.trim()).indexOf("(");return -1===b?a:a.slice(0,b)},a1=[],a2=[0,1,,1,null,1,!0,1,!1,1],a3=a=>{a>9&&0==--a2[a+1]&&(a2[a]=void 0,a1.push(a))},a4={toValue:a=>(a||au(`Cannot use deleted val. handle = ${a}`),a2[a]),toHandle:a=>{switch(a){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let b=a1.pop()||a2.length;return a2[b]=a,a2[b+1]=1,b}}}},a5={name:"emscripten::val",fromWireType:a=>{var b=a4.toValue(a);return a3(a),b},toWireType:(a,b)=>a4.toHandle(b),readValueFromPointer:al,destructorFunction:null},a6=Object.assign({optional:!0},a5),a7=(a,b,c)=>((a,b,c,d)=>{if(!(d>0))return 0;for(var e=c,f=c+d-1,g=0;g<a.length;++g){var h=a.codePointAt(g);if(h<=127){if(c>=f)break;b[c++]=h}else if(h<=2047){if(c+1>=f)break;b[c++]=192|h>>6,b[c++]=128|63&h}else if(h<=65535){if(c+2>=f)break;b[c++]=224|h>>12,b[c++]=128|h>>6&63,b[c++]=128|63&h}else{if(c+3>=f)break;b[c++]=240|h>>18,b[c++]=128|h>>12&63,b[c++]=128|h>>6&63,b[c++]=128|63&h,g++}}return b[c]=0,c-e})(a,J,b,c),a8=a=>{for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);d<=127?b++:d<=2047?b+=2:d>=55296&&d<=57343?(b+=4,++c):b+=3}return b},a9=globalThis.TextDecoder&&new TextDecoder,ba=(a,b,c,d)=>{var e=b+c;if(d)return e;for(;a[b]&&!(b>=e);)++b;return b},bb=function(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0;var e=ba(a,b,c,d);if(e-b>16&&a.buffer&&a9)return a9.decode(a.subarray(b,e));for(var f="";b<e;){var g=a[b++];if(!(128&g)){f+=String.fromCharCode(g);continue}var h=63&a[b++];if((224&g)==192){f+=String.fromCharCode((31&g)<<6|h);continue}var i=63&a[b++];if((g=(240&g)==224?(15&g)<<12|h<<6|i:(7&g)<<18|h<<12|i<<6|63&a[b++])<65536)f+=String.fromCharCode(g);else{var j=g-65536;f+=String.fromCharCode(55296|j>>10,56320|1023&j)}}return f},bc=globalThis.TextDecoder?new TextDecoder("utf-16le"):void 0,bd=(a,b,c)=>{var d=a>>1,e=ba(L,d,b/2,c);if(e-d>16&&bc)return bc.decode(L.subarray(d,e));for(var f="",g=d;g<e;++g)f+=String.fromCharCode(L[g]);return f},be=(a,b,c)=>{if(null!=c||(c=0x7fffffff),c<2)return 0;c-=2;for(var d=b,e=c<2*a.length?c/2:a.length,f=0;f<e;++f){var g=a.charCodeAt(f);K[b>>1]=g,b+=2}return K[b>>1]=0,b-d},bf=a=>2*a.length,bg=(a,b,c)=>{for(var d="",e=a>>2,f=0;!(f>=b/4);f++){var g=N[e+f];if(!g&&!c)break;d+=String.fromCodePoint(g)}return d},bh=(a,b,c)=>{if(null!=c||(c=0x7fffffff),c<4)return 0;for(var d=b,e=d+c-4,f=0;f<a.length;++f){var g=a.codePointAt(f);if(g>65535&&f++,M[b>>2]=g,(b+=4)+4>e)break}return M[b>>2]=0,b-d},bi=a=>{for(var b=0,c=0;c<a.length;++c)a.codePointAt(c)>65535&&c++,b+=4;return b},bj=[],bk=(a,b)=>{var c=an[a];return void 0===c&&au(`${b} has unknown type ${aY(a)}`),c},bl={},bm=a=>{var b=bl[a];return void 0===b?as(a):b},bn=(a,b)=>Math.ceil(a/b)*b,bo=a=>{var b=r.buffer.byteLength;try{return r.grow((a-b+65535)/65536|0),U(),1}catch{}},bp={},bq=()=>{if(!bq.strings){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:B||"./this.program"};for(var b in bp)void 0===bp[b]?delete a[b]:a[b]=bp[b];var c=[];for(var b in a)c.push(`${b}=${a[b]}`);bq.strings=c}return bq.strings},br=[null,[],[]],bs=(a,b)=>{var c=br[a];0===b||10===b?((1===a?Q:R)(bb(c)),c.length=0):c.push(b)};if(Object.assign(b=aB.prototype,{isAliasOf(a){if(!(this instanceof aB)||!(a instanceof aB))return!1;var b=this.$$.ptrType.registeredClass,c=this.$$.ptr;a.$$=a.$$;for(var d=a.$$.ptrType.registeredClass,e=a.$$.ptr;b.baseClass;)c=b.upcast(c),b=b.baseClass;for(;d.baseClass;)e=d.upcast(e),d=d.baseClass;return b===d&&c===e},clone(){let a;if(this.$$.ptr||aw(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var b=aA(Object.create(Object.getPrototypeOf(this),{$$:{value:{count:(a=this.$$).count,deleteScheduled:a.deleteScheduled,preservePointerOnDelete:a.preservePointerOnDelete,ptr:a.ptr,ptrType:a.ptrType,smartPtr:a.smartPtr,smartPtrType:a.smartPtrType}}}));return b.$$.count.value+=1,b.$$.deleteScheduled=!1,b},delete(){this.$$.ptr||aw(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&au("Object already scheduled for deletion"),ay(this),az(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||aw(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&au("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}}),(c=Symbol.dispose)&&(b[c]=b.delete),Object.assign(aP.prototype,{getPointee(a){return this.rawGetPointee&&(a=this.rawGetPointee(a)),a},destructor(a){var b;null==(b=this.rawDestructor)||b.call(this,a)},readValueFromPointer:al,fromWireType:function(a){var b,c=this.getPointee(a);if(!c)return this.destructor(a),null;var d=aN[((a,b)=>{for(void 0===b&&au("ptr should not be undefined");a.baseClass;)b=a.upcast(b),a=a.baseClass;return b})(this.registeredClass,c)];if(void 0!==d){if(0===d.$$.count.value)return d.$$.ptr=c,d.$$.smartPtr=a,d.clone();var e=d.clone();return this.destructor(a),e}function f(){return this.isSmartPointer?aO(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:c,smartPtrType:this,smartPtr:a}):aO(this.registeredClass.instancePrototype,{ptrType:this,ptr:a})}var g=aD[this.registeredClass.getActualType(c)];if(!g)return f.call(this);b=this.isConst?g.constPointerType:g.pointerType;var h=aM(c,this.registeredClass,b.registeredClass);return null===h?f.call(this):this.isSmartPointer?aO(b.registeredClass.instancePrototype,{ptrType:b,ptr:h,smartPtrType:this,smartPtr:a}):aO(b.registeredClass.instancePrototype,{ptrType:b,ptr:h})}}),a.noExitRuntime&&a.noExitRuntime,a.print&&(Q=a.print),a.printErr&&(R=a.printErr),a.wasmBinary&&(F=a.wasmBinary),a.arguments&&a.arguments,a.thisProgram&&(B=a.thisProgram),a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.shift()();var bt={s:a=>{var b=new ag(a);return b.get_caught()||(b.set_caught(!0),ae--),b.set_rethrown(!1),ad.push(b),n(a),h(a)},w:()=>{i(0,0);var a=ad.pop();m(a.excPtr),af=0},a:()=>ai([]),j:a=>ai([a]),m:(a,b)=>ai([a,b]),Q:()=>{var a=ad.pop();a||V("no exception to throw");var b=a.excPtr;throw a.get_rethrown()||(ad.push(a),a.set_rethrown(!0),a.set_caught(!1),ae++),af=b},p:(a,b,c)=>{throw new ag(a).init(b,c),af=a,ae++,af},U:()=>ae,d:a=>{throw af||(af=a),af},ca:()=>V(""),ta:a=>{var b=aj[a];delete aj[a];var c=b.rawConstructor,d=b.rawDestructor,e=b.fields;ar([a],e.map(a=>a.getterReturnType).concat(e.map(a=>a.setterArgumentType)),a=>{var f={};for(let b=0;b<e.length;++b){let c=e[b],d=a[b],g=c.getter,h=c.getterContext,i=a[b+e.length],j=c.setter,k=c.setterContext;f[c.fieldName]={read:a=>d.fromWireType(g(h,a)),write:(a,b)=>{var c=[];j(k,a,i.toWireType(c,b)),ak(c)},optional:d.optional}}return[{name:b.name,fromWireType:a=>{var b={};for(var c in f)b[c]=f[c].read(a);return d(a),b},toWireType:(a,b)=>{for(var e in f)if(!(e in b)&&!f[e].optional)throw TypeError(`Missing field: "${e}"`);var g=c();for(e in f)f[e].write(g,b[e]);return null!==a&&a.push(d,g),g},readValueFromPointer:al,destructorFunction:d}]})},ba:(a,b,c,d,e)=>{},oa:(a,b,c,d)=>{av(a,{name:b=as(b),fromWireType:function(a){return!!a},toWireType:function(a,b){return b?c:d},readValueFromPointer:function(a){return this.fromWireType(J[a])},destructorFunction:null})},ra:(a,b,c,d,e,f,g,h,i,j,k,l,m)=>{k=as(k),f=aW(e,f),h&&(h=aW(g,h)),j&&(j=aW(i,j)),m=aW(l,m);var n,o,p=(o=(n=(n=k).replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0))>=48&&o<=57?`_${n}`:n;aF(p,function(){aZ(`Cannot construct ${k} due to unbound types`,[d])}),ar([a,b,c],d?[d]:[],b=>{b=b[0];var c,e,g=d?(c=b.registeredClass).instancePrototype:aB.prototype,i=aC(k,function(){if(Object.getPrototypeOf(this)!==l)throw new at(`Use 'new' to construct ${k}`);if(void 0===n.constructor_body)throw new at(`${k} has no accessible constructor`);for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=n.constructor_body[b.length];if(void 0===d)throw new at(`Tried to invoke ctor of ${k} with invalid number of parameters (${b.length}) - expected (${Object.keys(n.constructor_body).toString()}) parameters instead!`);return d.apply(this,b)}),l=Object.create(g,{constructor:{value:i}});i.prototype=l;var n=new aG(k,i,l,m,c,f,h,j);n.baseClass&&(null!=(e=n.baseClass).__derivedClasses||(e.__derivedClasses=[]),n.baseClass.__derivedClasses.push(n));var o=new aP(k,n,!0,!1,!1),q=new aP(k+"*",n,!1,!1,!1),r=new aP(k+" const*",n,!1,!0,!1);return aD[a]={pointerType:q,constPointerType:r},aQ(p,i),[o,q,r]})},qa:(a,b,c,d,e,f)=>{var g=a$(b,c);e=aW(d,e),ar([],[a],a=>{a=a[0];var c=`constructor ${a.name}`;if(void 0===a.registeredClass.constructor_body&&(a.registeredClass.constructor_body=[]),void 0!==a.registeredClass.constructor_body[b-1])throw new at(`Cannot register multiple constructors with identical number of parameters (${b-1}) for class '${a.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return a.registeredClass.constructor_body[b-1]=()=>{aZ(`Cannot construct ${a.name} due to unbound types`,g)},ar([],g,d=>(d.splice(1,0,null),a.registeredClass.constructor_body[b-1]=a_(c,d,null,e,f),[])),[]})},H:(a,b,c,d,e,f,g,h,i,j)=>{var k=a$(c,d);b=a0(b=as(b)),f=aW(e,f),ar([],[a],a=>{a=a[0];var d=`${a.name}.${b}`;function e(){aZ(`Cannot call ${d} due to unbound types`,k)}b.startsWith("@@")&&(b=Symbol[b.substring(2)]),h&&a.registeredClass.pureVirtualFunctions.push(b);var i=a.registeredClass.instancePrototype,j=i[b];return void 0===j||void 0===j.overloadTable&&j.className!==a.name&&j.argCount===c-2?(e.argCount=c-2,e.className=a.name,i[b]=e):(aE(i,b,d),i[b].overloadTable[c-2]=e),ar([],k,e=>{var h=a_(d,e,a,f,g);return void 0===i[b].overloadTable?(h.argCount=c-2,i[b]=h):i[b].overloadTable[c-2]=h,[]}),[]})},ma:a=>av(a,a5),X:(a,b,c)=>{av(a,{name:b=as(b),fromWireType:a=>a,toWireType:(a,b)=>b,readValueFromPointer:((a,b)=>{switch(b){case 4:return function(a){return this.fromWireType(O[a>>2])};case 8:return function(a){return this.fromWireType(P[a>>3])};default:throw TypeError(`invalid float width (${b}): ${a}`)}})(b,c),destructorFunction:null})},Y:(a,b,c,d,e,f,g,h)=>{var i=a$(b,c);a=a0(a=as(a)),e=aW(d,e),aF(a,function(){aZ(`Cannot call ${a} due to unbound types`,i)},b-1),ar([],i,c=>{var d=[c[0],null].concat(c.slice(1));return aQ(a,a_(a,d,null,e,f),b-1),[]})},x:(a,b,c,d,e)=>{b=as(b);let f=a=>a;if(0===d){var g=32-8*c;e=(f=a=>a<<g>>>g)(e)}av(a,{name:b,fromWireType:f,toWireType:(a,b)=>b,readValueFromPointer:((a,b,c)=>{switch(b){case 1:return c?a=>I[a]:a=>J[a];case 2:return c?a=>K[a>>1]:a=>L[a>>1];case 4:return c?a=>M[a>>2]:a=>N[a>>2];default:throw TypeError(`invalid integer width (${b}): ${a}`)}})(b,c,0!==d),destructorFunction:null})},t:(a,b,c)=>{var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];function e(a){var b=N[a>>2],c=N[a+4>>2];return new d(I.buffer,c,b)}av(a,{name:c=as(c),fromWireType:e,readValueFromPointer:e},{ignoreDuplicateRegistrations:!0})},sa:(a,b)=>{av(a,a6)},na:(a,b)=>{av(a,{name:b=as(b),fromWireType(a){let b;var c,d=N[a>>2];return c=(b=a+4)?bb(J,b,d,!0):"",f(a),c},toWireType(a,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var c,d="string"==typeof b;d||ArrayBuffer.isView(b)&&1==b.BYTES_PER_ELEMENT||au("Cannot pass non-string to std::string"),c=d?a8(b):b.length;var e=g(4+c+1),h=e+4;return N[e>>2]=c,d?a7(b,h,c+1):J.set(b,h),null!==a&&a.push(f,e),e},readValueFromPointer:al,destructorFunction(a){f(a)}})},R:(a,b,c)=>{var d,e,h;c=as(c),2===b?(d=bd,e=be,h=bf):(d=bg,e=bh,h=bi),av(a,{name:c,fromWireType:a=>{var c=N[a>>2],e=d(a+4,c*b,!0);return f(a),e},toWireType:(a,d)=>{"string"!=typeof d&&au(`Cannot pass non-string to C++ string type ${c}`);var i=h(d),j=g(4+i+b);return N[j>>2]=i/b,e(d,j+4,i+b),null!==a&&a.push(f,j),j},readValueFromPointer:al,destructorFunction(a){f(a)}})},I:(a,b,c,d,e,f)=>{aj[a]={name:as(b),rawConstructor:aW(c,d),rawDestructor:aW(e,f),fields:[]}},ua:(a,b,c,d,e,f,g,h,i,j)=>{aj[a].fields.push({fieldName:as(b),getterReturnType:c,getter:aW(d,e),getterContext:f,setterArgumentType:g,setter:aW(h,i),setterContext:j})},pa:(a,b)=>{av(a,{isVoid:!0,name:b=as(b),fromWireType:()=>{},toWireType:(a,b)=>{}})},N:(a,b,c)=>{var d,e,[f,...g]=((a,b)=>{for(var c=Array(a),d=0;d<a;++d)c[d]=bk(N[b+4*d>>2],`parameter ${d}`);return c})(a,b),h=f.toWireType.bind(f),i=g.map(a=>a.readValueFromPointer.bind(a)),j=Array(--a);return d=aC(`methodCaller<(${g.map(a=>a.name)}) => ${f.name}>`,(b,d,e,f)=>{for(var g,k,l,m=0,n=0;n<a;++n)j[n]=i[n](f+m),m+=8;switch(c){case 0:l=a4.toValue(b).apply(null,j);break;case 2:l=Reflect.construct(a4.toValue(b),j);break;case 3:l=j[0];break;case 1:l=a4.toValue(b)[bm(d)](...j)}return k=h(g=[],l),g.length&&(N[e>>2]=a4.toHandle(g)),k}),e=bj.length,bj.push(d),e},va:a3,D:a=>a?(a=bm(a),a4.toHandle(globalThis[a])):a4.toHandle(globalThis),S:a=>{a>9&&(a2[a+1]+=1)},M:(a,b,c,d,e)=>bj[a](b,c,d,e),ia:a=>{ak(a4.toValue(a)),a3(a)},da:(a,b,c,d)=>{var e=new Date().getFullYear(),f=new Date(e,0,1),g=new Date(e,6,1),h=f.getTimezoneOffset(),i=g.getTimezoneOffset(),j=Math.max(h,i);N[a>>2]=60*j,M[b>>2]=+(h!=i);var k=a=>{var b=Math.abs(a),c=String(Math.floor(b/60)).padStart(2,"0"),d=String(b%60).padStart(2,"0");return`UTC${a>=0?"-":"+"}${c}${d}`},l=k(h),m=k(i);i<h?(a7(l,c,17),a7(m,d,17)):(a7(l,d,17),a7(m,c,17))},ga:a=>{var b=J.length;if((a>>>=0)>0x80000000)return!1;for(var c=1;c<=4;c*=2){var d=b*(1+.2/c);if(d=Math.min(d,a+0x6000000),bo(Math.min(0x80000000,bn(Math.max(a,d),65536))))return!0}return!1},ea:(a,b)=>{var c=0,d=0;for(var e of bq()){var f=b+c;N[a+d>>2]=f,c+=a7(e,f,1/0)+1,d+=4}return 0},fa:(a,b)=>{var c=bq();N[a>>2]=c.length;var d=0;for(var e of c)d+=a8(e)+1;return N[b>>2]=d,0},ha:a=>52,$:function(a,b,c,d,e){return 70},V:(a,b,c,d)=>{for(var e=0,f=0;f<c;f++){var g=N[b>>2],h=N[b+4>>2];b+=8;for(var i=0;i<h;i++)bs(a,J[g+i]);e+=h}return N[d>>2]=e,0},K:function(a,b,c,d){var e=l();try{return aT(a)(b,c,d)}catch(a){if(k(e),a!==a+0)throw a;i(1,0)}},C:function(a,b,c,d,e,f){var g=l();try{return aT(a)(b,c,d,e,f)}catch(a){if(k(g),a!==a+0)throw a;i(1,0)}},Z:function(a,b,c,d,e,f){var g=l();try{return aT(a)(b,c,d,e,f)}catch(a){if(k(g),a!==a+0)throw a;i(1,0)}},T:function(a,b,c,d){var e=l();try{return aT(a)(b,c,d)}catch(a){if(k(e),a!==a+0)throw a;i(1,0)}},r:function(a){var b=l();try{return aT(a)()}catch(a){if(k(b),a!==a+0)throw a;i(1,0)}},b:function(a,b){var c=l();try{return aT(a)(b)}catch(a){if(k(c),a!==a+0)throw a;i(1,0)}},E:function(a,b,c,d){var e=l();try{return aT(a)(b,c,d)}catch(a){if(k(e),a!==a+0)throw a;i(1,0)}},ka:function(a,b,c){var d=l();try{return aT(a)(b,c)}catch(a){if(k(d),a!==a+0)throw a;i(1,0)}},c:function(a,b,c){var d=l();try{return aT(a)(b,c)}catch(a){if(k(d),a!==a+0)throw a;i(1,0)}},ja:function(a,b,c,d,e){var f=l();try{return aT(a)(b,c,d,e)}catch(a){if(k(f),a!==a+0)throw a;i(1,0)}},h:function(a,b,c,d){var e=l();try{return aT(a)(b,c,d)}catch(a){if(k(e),a!==a+0)throw a;i(1,0)}},i:function(a,b,c,d,e){var f=l();try{return aT(a)(b,c,d,e)}catch(a){if(k(f),a!==a+0)throw a;i(1,0)}},q:function(a,b,c,d,e,f){var g=l();try{return aT(a)(b,c,d,e,f)}catch(a){if(k(g),a!==a+0)throw a;i(1,0)}},P:function(a,b,c,d,e,f,g){var h=l();try{return aT(a)(b,c,d,e,f,g)}catch(a){if(k(h),a!==a+0)throw a;i(1,0)}},v:function(a,b,c,d,e,f,g){var h=l();try{return aT(a)(b,c,d,e,f,g)}catch(a){if(k(h),a!==a+0)throw a;i(1,0)}},F:function(a,b,c,d,e,f,g,h){var j=l();try{return aT(a)(b,c,d,e,f,g,h)}catch(a){if(k(j),a!==a+0)throw a;i(1,0)}},L:function(a,b,c,d,e,f,g,h,j){var m=l();try{return aT(a)(b,c,d,e,f,g,h,j)}catch(a){if(k(m),a!==a+0)throw a;i(1,0)}},z:function(a,b,c,d,e,f,g,h,j,m){var n=l();try{return aT(a)(b,c,d,e,f,g,h,j,m)}catch(a){if(k(n),a!==a+0)throw a;i(1,0)}},J:function(a,b,c,d,e,f,g,h,j,m,n,o){var p=l();try{return aT(a)(b,c,d,e,f,g,h,j,m,n,o)}catch(a){if(k(p),a!==a+0)throw a;i(1,0)}},aa:function(a,b,c,d,e,f,g){var h=l();try{return p(a,b,c,d,e,f,g)}catch(a){if(k(h),a!==a+0)throw a;i(1,0)}},_:function(a,b,c,d,e){var f=l();try{return q(a,b,c,d,e)}catch(a){if(k(f),a!==a+0)throw a;i(1,0)}},f:function(a){var b=l();try{aT(a)()}catch(a){if(k(b),a!==a+0)throw a;i(1,0)}},l:function(a,b){var c=l();try{aT(a)(b)}catch(a){if(k(c),a!==a+0)throw a;i(1,0)}},e:function(a,b,c){var d=l();try{aT(a)(b,c)}catch(a){if(k(d),a!==a+0)throw a;i(1,0)}},g:function(a,b,c,d){var e=l();try{aT(a)(b,c,d)}catch(a){if(k(e),a!==a+0)throw a;i(1,0)}},O:function(a,b,c,d,e,f,g){var h=l();try{aT(a)(b,c,d,e,f,g)}catch(a){if(k(h),a!==a+0)throw a;i(1,0)}},k:function(a,b,c,d,e){var f=l();try{aT(a)(b,c,d,e)}catch(a){if(k(f),a!==a+0)throw a;i(1,0)}},la:function(a,b,c,d,e,f,g,h){var j=l();try{aT(a)(b,c,d,e,f,g,h)}catch(a){if(k(j),a!==a+0)throw a;i(1,0)}},o:function(a,b,c,d,e,f){var g=l();try{aT(a)(b,c,d,e,f)}catch(a){if(k(g),a!==a+0)throw a;i(1,0)}},B:function(a,b,c,d,e,f,g){var h=l();try{aT(a)(b,c,d,e,f,g)}catch(a){if(k(h),a!==a+0)throw a;i(1,0)}},u:function(a,b,c,d,e,f,g,h){var j=l();try{aT(a)(b,c,d,e,f,g,h)}catch(a){if(k(j),a!==a+0)throw a;i(1,0)}},W:function(a,b,c,d,e,f,g,h,j){var m=l();try{aT(a)(b,c,d,e,f,g,h,j)}catch(a){if(k(m),a!==a+0)throw a;i(1,0)}},A:function(a,b,c,d,e,f,g,h,j,m){var n=l();try{aT(a)(b,c,d,e,f,g,h,j,m)}catch(a){if(k(n),a!==a+0)throw a;i(1,0)}},n:function(a,b,c,d,e,f,g,h,j,m,n){var o=l();try{aT(a)(b,c,d,e,f,g,h,j,m,n)}catch(a){if(k(o),a!==a+0)throw a;i(1,0)}},G:function(a,b,c,d,e,f,g,h,j,m,n,o,p,q,r,s){var t=l();try{aT(a)(b,c,d,e,f,g,h,j,m,n,o,p,q,r,s)}catch(a){if(k(t),a!==a+0)throw a;i(1,0)}},y:a=>a};return t=await Z(),function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)ac(a.preRun.shift());function b(){var b,c;a.calledRun=!0,S||(T=!0,t.xa(),null==(b=G)||b(a),null==(c=a.onRuntimeInitialized)||c.call(a),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)aa(a.postRun.shift());$(_)}())}$(ab),a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),b()},1)):b()}(),T?a:new Promise((a,b)=>{G=a,H=b})}async function v(a,b){return t(u,a,b)}({...n,formats:[...n.formats]});let w=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],x=[...w,["unknown"]].map(a=>a[0]),y=new Map(w);function z(a){var b,c;try{return a instanceof(null==(c=null==(b=null==a?void 0:a.ownerDocument)?void 0:b.defaultView)?void 0:c.HTMLImageElement)}catch{return!1}}function A(a){var b,c;try{return a instanceof(null==(c=null==(b=null==a?void 0:a.ownerDocument)?void 0:b.defaultView)?void 0:c.SVGImageElement)}catch{return!1}}function B(a){var b,c;try{return a instanceof(null==(c=null==(b=null==a?void 0:a.ownerDocument)?void 0:b.defaultView)?void 0:c.HTMLVideoElement)}catch{return!1}}function C(a){var b,c;try{return a instanceof(null==(c=null==(b=null==a?void 0:a.ownerDocument)?void 0:b.defaultView)?void 0:c.HTMLCanvasElement)}catch{return!1}}function D(a){try{return a instanceof ImageBitmap||"[object ImageBitmap]"===Object.prototype.toString.call(a)}catch{return!1}}function E(a){try{return a instanceof OffscreenCanvas||"[object OffscreenCanvas]"===Object.prototype.toString.call(a)}catch{return!1}}function F(a){try{return a instanceof VideoFrame||"[object VideoFrame]"===Object.prototype.toString.call(a)}catch{return!1}}async function G(a){var b;if(z(a)&&!await J(a))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(A(a)&&!await K(a))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(F(a)&&null===a.format)throw new DOMException("VideoFrame is closed.","InvalidStateError");if(B(a)&&(0===a.readyState||1===a.readyState))throw new DOMException("Invalid element or state.","InvalidStateError");if(D(a)&&0===(b=a).width&&0===b.height)throw new DOMException("The image source is detached.","InvalidStateError");let{width:c,height:d}=function(a){if(z(a))return{width:a.naturalWidth,height:a.naturalHeight};if(A(a))return{width:a.width.baseVal.value,height:a.height.baseVal.value};if(B(a))return{width:a.videoWidth,height:a.videoHeight};if(D(a))return{width:a.width,height:a.height};if(F(a))return{width:a.displayWidth,height:a.displayHeight};if(C(a)||E(a))return{width:a.width,height:a.height};throw TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}(a);if(0===c||0===d)return null;let e=(function(a,b){try{let c=new OffscreenCanvas(a,b);if(c.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return c;throw void 0}catch{let c=document.createElement("canvas");return c.width=a,c.height=b,c}})(c,d).getContext("2d");e.drawImage(a,0,0);try{return e.getImageData(0,0,c,d)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function H(a){let b;try{b=await createImageBitmap(a)}catch{try{if(!globalThis.Image)return a;{b=new Image;let c="";try{c=URL.createObjectURL(a),b.src=c,await b.decode()}finally{URL.revokeObjectURL(c)}}}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await G(b)}async function I(a){if(function(a){try{return a instanceof Blob||"[object Blob]"===Object.prototype.toString.call(a)}catch{return!1}}(a))return await H(a);if(function(a){try{return a instanceof ImageData||"[object ImageData]"===Object.prototype.toString.call(a)}catch{return!1}}(a)){if(0===a.data.buffer.byteLength)throw new DOMException("The image data has been detached.","InvalidStateError");return a}return C(a)||E(a)?function(a){let{width:b,height:c}=a;if(0===b||0===c)return null;let d=a.getContext("2d");try{return d.getImageData(0,0,b,c)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}(a):await G(a)}async function J(a){try{return await a.decode(),!0}catch{return!1}}async function K(a){var b;try{return await (null==(b=a.decode)?void 0:b.call(a)),!0}catch{return!1}}function L(a,b){var c,d;return(c=a)instanceof DOMException||"[object DOMException]"===Object.prototype.toString.call(c)?new DOMException(`${b}: ${a.message}`,a.name):(d=a)instanceof Error||"[object Error]"===Object.prototype.toString.call(d)?new a.constructor(`${b}: ${a.message}`):Error(`${b}: ${a}`)}class M{constructor(a={}){var e,f;((a,b,d)=>b.has(a)?c("Cannot add the same private member more than once"):b instanceof WeakSet?b.add(a):b.set(a,d))(this,b);try{const c=null==(e=null==a?void 0:a.formats)?void 0:e.filter(a=>"unknown"!==a);if((null==c?void 0:c.length)===0)throw TypeError("Hint option provided, but is empty.");for(const a of null!=c?c:[])if(!y.has(a))throw TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${a}' is not a valid enum value of type BarcodeFormat.`);((a,b,c,e)=>(d(a,b,"write to private field"),e?e.call(a,c):b.set(a,c)))(this,b,null!=c?c:[]),(f={fireImmediately:!0},s(u,f)).catch(()=>{})}catch(a){throw L(a,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return x.filter(a=>"unknown"!==a)}async detect(a){try{let c,e,f,g=await I(a);if(null===g)return[];let h={tryCode39ExtendedMode:!1,textMode:"Plain",formats:(e=b,d(this,e,"read from private field"),f?f.call(this):e.get(this)).map(a=>y.get(a))};try{c=await v(g,h)}catch(a){throw console.error(a),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return c.map(a=>{let{topLeft:{x:b,y:c},topRight:{x:d,y:e},bottomLeft:{x:f,y:g},bottomRight:{x:h,y:i}}=a.position,j=Math.min(b,d,f,h),k=Math.min(c,e,g,i),l=Math.max(b,d,f,h),m=Math.max(c,e,g,i);return{boundingBox:new DOMRectReadOnly(j,k,l-j,m-k),rawValue:a.text,format:function(a){for(let[b,c]of y)if(a===c)return b;return"unknown"}(a.format),cornerPoints:[{x:b,y:c},{x:d,y:e},{x:h,y:i},{x:f,y:g}]}})}catch(a){throw L(a,"Failed to execute 'detect' on 'BarcodeDetector'")}}}b=new WeakMap,null!=globalThis.BarcodeDetector||(globalThis.BarcodeDetector=M);var N=a.i(87924),O=a.i(72131);let P=!0;function Q(a,b,c){let d=a.match(b);return d&&d.length>=c&&parseFloat(d[c],10)}function R(a,b,c){if(!a.RTCPeerConnection)return;let d=a.RTCPeerConnection.prototype,e=d.addEventListener;d.addEventListener=function(a,d){if(a!==b)return e.apply(this,arguments);let f=a=>{let b=c(a);b&&(d.handleEvent?d.handleEvent(b):d(b))};return this._eventMap=this._eventMap||{},this._eventMap[b]||(this._eventMap[b]=new Map),this._eventMap[b].set(d,f),e.apply(this,[a,f])};let f=d.removeEventListener;d.removeEventListener=function(a,c){if(a!==b||!this._eventMap||!this._eventMap[b]||!this._eventMap[b].has(c))return f.apply(this,arguments);let d=this._eventMap[b].get(c);return this._eventMap[b].delete(c),0===this._eventMap[b].size&&delete this._eventMap[b],0===Object.keys(this._eventMap).length&&delete this._eventMap,f.apply(this,[a,d])},Object.defineProperty(d,"on"+b,{get(){return this["_on"+b]},set(a){this["_on"+b]&&(this.removeEventListener(b,this["_on"+b]),delete this["_on"+b]),a&&this.addEventListener(b,this["_on"+b]=a)},enumerable:!0,configurable:!0})}function S(a){return"boolean"!=typeof a?Error("Argument type: "+typeof a+". Please use a boolean."):a?"adapter.js logging disabled":"adapter.js logging enabled"}function T(a){return"boolean"!=typeof a?Error("Argument type: "+typeof a+". Please use a boolean."):(P=!a,"adapter.js deprecation warnings "+(a?"disabled":"enabled"))}function U(){}function V(a,b){P&&console.warn(a+" is deprecated, please use "+b+" instead.")}function W(a){return"[object Object]"===Object.prototype.toString.call(a)}function X(a,b,c){let d=c?"outbound-rtp":"inbound-rtp",e=new Map;if(null===b)return e;let f=[];return a.forEach(a=>{"track"===a.type&&a.trackIdentifier===b.id&&f.push(a)}),f.forEach(b=>{a.forEach(c=>{c.type===d&&c.trackId===b.id&&function a(b,c,d){!c||d.has(c.id)||(d.set(c.id,c),Object.keys(c).forEach(e=>{e.endsWith("Id")?a(b,b.get(c[e]),d):e.endsWith("Ids")&&c[e].forEach(c=>{a(b,b.get(c),d)})}))}(a,c,e)})}),e}function Y(a,b){let c=a&&a.navigator;if(!c.mediaDevices)return;let d=function(a){if("object"!=typeof a||a.mandatory||a.optional)return a;let b={};return Object.keys(a).forEach(c=>{if("require"===c||"advanced"===c||"mediaSource"===c)return;let d="object"==typeof a[c]?a[c]:{ideal:a[c]};void 0!==d.exact&&"number"==typeof d.exact&&(d.min=d.max=d.exact);let e=function(a,b){return a?a+b.charAt(0).toUpperCase()+b.slice(1):"deviceId"===b?"sourceId":b};if(void 0!==d.ideal){b.optional=b.optional||[];let a={};"number"==typeof d.ideal?(a[e("min",c)]=d.ideal,b.optional.push(a),(a={})[e("max",c)]=d.ideal):a[e("",c)]=d.ideal,b.optional.push(a)}void 0!==d.exact&&"number"!=typeof d.exact?(b.mandatory=b.mandatory||{},b.mandatory[e("",c)]=d.exact):["min","max"].forEach(a=>{void 0!==d[a]&&(b.mandatory=b.mandatory||{},b.mandatory[e(a,c)]=d[a])})}),a.advanced&&(b.optional=(b.optional||[]).concat(a.advanced)),b},e=function(a,e){if(b.version>=61)return e(a);if((a=JSON.parse(JSON.stringify(a)))&&"object"==typeof a.audio){let b=function(a,b,c){b in a&&!(c in a)&&(a[c]=a[b],delete a[b])};b((a=JSON.parse(JSON.stringify(a))).audio,"autoGainControl","googAutoGainControl"),b(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=d(a.audio)}if(a&&"object"==typeof a.video){let f=a.video.facingMode;f=f&&("object"==typeof f?f:{ideal:f});let g=b.version<66;if(f&&("user"===f.exact||"environment"===f.exact||"user"===f.ideal||"environment"===f.ideal)&&!(c.mediaDevices.getSupportedConstraints&&c.mediaDevices.getSupportedConstraints().facingMode&&!g)){let b;if(delete a.video.facingMode,"environment"===f.exact||"environment"===f.ideal?b=["back","rear"]:("user"===f.exact||"user"===f.ideal)&&(b=["front"]),b)return c.mediaDevices.enumerateDevices().then(c=>{let g=(c=c.filter(a=>"videoinput"===a.kind)).find(a=>b.some(b=>a.label.toLowerCase().includes(b)));return!g&&c.length&&b.includes("back")&&(g=c[c.length-1]),g&&(a.video.deviceId=f.exact?{exact:g.deviceId}:{ideal:g.deviceId}),a.video=d(a.video),U("chrome: "+JSON.stringify(a)),e(a)})}a.video=d(a.video)}return U("chrome: "+JSON.stringify(a)),e(a)},f=function(a){return b.version>=64?a:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(c.getUserMedia=(function(a,b,d){e(a,a=>{c.webkitGetUserMedia(a,b,a=>{d&&d(f(a))})})}).bind(c),c.mediaDevices.getUserMedia){let a=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(b){return e(b,b=>a(b).then(a=>{if(b.audio&&!a.getAudioTracks().length||b.video&&!a.getVideoTracks().length)throw a.getTracks().forEach(a=>{a.stop()}),new DOMException("","NotFoundError");return a},a=>Promise.reject(f(a))))}}}function Z(a){a.MediaStream=a.MediaStream||a.webkitMediaStream}function $(a){if("object"!=typeof a||!a.RTCPeerConnection||"ontrack"in a.RTCPeerConnection.prototype)R(a,"track",a=>(a.transceiver||Object.defineProperty(a,"transceiver",{value:{receiver:a.receiver}}),a));else{Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(a){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=a)},enumerable:!0,configurable:!0});let b=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=b=>{b.stream.addEventListener("addtrack",c=>{let d;d=a.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===c.track.id):{track:c.track};let e=new Event("track");e.track=c.track,e.receiver=d,e.transceiver={receiver:d},e.streams=[b.stream],this.dispatchEvent(e)}),b.stream.getTracks().forEach(c=>{let d;d=a.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===c.id):{track:c};let e=new Event("track");e.track=c,e.receiver=d,e.transceiver={receiver:d},e.streams=[b.stream],this.dispatchEvent(e)})},this.addEventListener("addstream",this._ontrackpoly)),b.apply(this,arguments)}}}function _(a){if("object"==typeof a&&a.RTCPeerConnection&&!("getSenders"in a.RTCPeerConnection.prototype)&&"createDTMFSender"in a.RTCPeerConnection.prototype){let b=function(a,b){return{track:b,get dtmf(){return void 0===this._dtmf&&("audio"===b.kind?this._dtmf=a.createDTMFSender(b):this._dtmf=null),this._dtmf},_pc:a}};if(!a.RTCPeerConnection.prototype.getSenders){a.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let c=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(a,d){let e=c.apply(this,arguments);return e||(e=b(this,a),this._senders.push(e)),e};let d=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(a){d.apply(this,arguments);let b=this._senders.indexOf(a);-1!==b&&this._senders.splice(b,1)}}let c=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],c.apply(this,[a]),a.getTracks().forEach(a=>{this._senders.push(b(this,a))})};let d=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],d.apply(this,[a]),a.getTracks().forEach(a=>{let b=this._senders.find(b=>b.track===a);b&&this._senders.splice(this._senders.indexOf(b),1)})}}else if("object"==typeof a&&a.RTCPeerConnection&&"getSenders"in a.RTCPeerConnection.prototype&&"createDTMFSender"in a.RTCPeerConnection.prototype&&a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)){let b=a.RTCPeerConnection.prototype.getSenders;a.RTCPeerConnection.prototype.getSenders=function(){let a=b.apply(this,[]);return a.forEach(a=>a._pc=this),a},Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function aa(a){if(!("object"==typeof a&&a.RTCPeerConnection&&a.RTCRtpSender&&a.RTCRtpReceiver))return;if(!("getStats"in a.RTCRtpSender.prototype)){let b=a.RTCPeerConnection.prototype.getSenders;b&&(a.RTCPeerConnection.prototype.getSenders=function(){let a=b.apply(this,[]);return a.forEach(a=>a._pc=this),a});let c=a.RTCPeerConnection.prototype.addTrack;c&&(a.RTCPeerConnection.prototype.addTrack=function(){let a=c.apply(this,arguments);return a._pc=this,a}),a.RTCRtpSender.prototype.getStats=function(){let a=this;return this._pc.getStats().then(b=>X(b,a.track,!0))}}if(!("getStats"in a.RTCRtpReceiver.prototype)){let b=a.RTCPeerConnection.prototype.getReceivers;b&&(a.RTCPeerConnection.prototype.getReceivers=function(){let a=b.apply(this,[]);return a.forEach(a=>a._pc=this),a}),R(a,"track",a=>(a.receiver._pc=a.srcElement,a)),a.RTCRtpReceiver.prototype.getStats=function(){let a=this;return this._pc.getStats().then(b=>X(b,a.track,!1))}}if(!("getStats"in a.RTCRtpSender.prototype&&"getStats"in a.RTCRtpReceiver.prototype))return;let b=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof a.MediaStreamTrack){let a,b,c,d=arguments[0];return(this.getSenders().forEach(b=>{b.track===d&&(a?c=!0:a=b)}),this.getReceivers().forEach(a=>(a.track===d&&(b?c=!0:b=a),a.track===d)),c||a&&b)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():b?b.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return b.apply(this,arguments)}}function ab(a){a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};let b=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(a,c){if(!c)return b.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let d=b.apply(this,arguments);return this._shimmedLocalStreams[c.id]?-1===this._shimmedLocalStreams[c.id].indexOf(d)&&this._shimmedLocalStreams[c.id].push(d):this._shimmedLocalStreams[c.id]=[c,d],d};let c=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(a=>{if(this.getSenders().find(b=>b.track===a))throw new DOMException("Track already exists.","InvalidAccessError")});let b=this.getSenders();c.apply(this,arguments);let d=this.getSenders().filter(a=>-1===b.indexOf(a));this._shimmedLocalStreams[a.id]=[a].concat(d)};let d=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],d.apply(this,arguments)};let e=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(b=>{let c=this._shimmedLocalStreams[b].indexOf(a);-1!==c&&this._shimmedLocalStreams[b].splice(c,1),1===this._shimmedLocalStreams[b].length&&delete this._shimmedLocalStreams[b]}),e.apply(this,arguments)}}function ac(a,b){if(!a.RTCPeerConnection)return;if(a.RTCPeerConnection.prototype.addTrack&&b.version>=65)return ab(a);let c=a.RTCPeerConnection.prototype.getLocalStreams;a.RTCPeerConnection.prototype.getLocalStreams=function(){let a=c.apply(this);return this._reverseStreams=this._reverseStreams||{},a.map(a=>this._reverseStreams[a.id])};let d=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(b){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},b.getTracks().forEach(a=>{if(this.getSenders().find(b=>b.track===a))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[b.id]){let c=new a.MediaStream(b.getTracks());this._streams[b.id]=c,this._reverseStreams[c.id]=b,b=c}d.apply(this,[b])};let e=a.RTCPeerConnection.prototype.removeStream;function f(a,b){let c=b.sdp;return Object.keys(a._reverseStreams||[]).forEach(b=>{let d=a._reverseStreams[b],e=a._streams[d.id];c=c.replace(RegExp(e.id,"g"),d.id)}),new RTCSessionDescription({type:b.type,sdp:c})}a.RTCPeerConnection.prototype.removeStream=function(a){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},e.apply(this,[this._streams[a.id]||a]),delete this._reverseStreams[this._streams[a.id]?this._streams[a.id].id:a.id],delete this._streams[a.id]},a.RTCPeerConnection.prototype.addTrack=function(b,c){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let d=[].slice.call(arguments,1);if(1!==d.length||!d[0].getTracks().find(a=>a===b))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(a=>a.track===b))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let e=this._streams[c.id];if(e)e.addTrack(b),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let d=new a.MediaStream([b]);this._streams[c.id]=d,this._reverseStreams[d.id]=c,this.addStream(d)}return this.getSenders().find(a=>a.track===b)},["createOffer","createAnswer"].forEach(function(b){let c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=({[b](){let a=arguments,b=arguments.length&&"function"==typeof arguments[0];return b?c.apply(this,[b=>{let c=f(this,b);a[0].apply(null,[c])},b=>{a[1]&&a[1].apply(null,b)},arguments[2]]):c.apply(this,arguments).then(a=>f(this,a))}})[b]});let g=a.RTCPeerConnection.prototype.setLocalDescription;a.RTCPeerConnection.prototype.setLocalDescription=function(){var a,b;let c;return arguments.length&&arguments[0].type?(arguments[0]=(a=this,b=arguments[0],c=b.sdp,Object.keys(a._reverseStreams||[]).forEach(b=>{let d=a._reverseStreams[b],e=a._streams[d.id];c=c.replace(RegExp(d.id,"g"),e.id)}),new RTCSessionDescription({type:b.type,sdp:c})),g.apply(this,arguments)):g.apply(this,arguments)};let h=Object.getOwnPropertyDescriptor(a.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(a.RTCPeerConnection.prototype,"localDescription",{get(){let a=h.get.apply(this);return""===a.type?a:f(this,a)}}),a.RTCPeerConnection.prototype.removeTrack=function(a){let b;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!a._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(a._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(c=>{this._streams[c].getTracks().find(b=>a.track===b)&&(b=this._streams[c])}),b&&(1===b.getTracks().length?this.removeStream(this._reverseStreams[b.id]):b.removeTrack(a.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ad(a,b){!a.RTCPeerConnection&&a.webkitRTCPeerConnection&&(a.RTCPeerConnection=a.webkitRTCPeerConnection),a.RTCPeerConnection&&b.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){let c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=({[b](){return arguments[0]=new("addIceCandidate"===b?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}})[b]})}function ae(a,b){R(a,"negotiationneeded",a=>{let c=a.target;if(!(b.version<72)&&(!c.getConfiguration||"plan-b"!==c.getConfiguration().sdpSemantics)||"stable"===c.signalingState)return a})}a.s(["fixNegotiationNeeded",()=>ae,"shimAddTrackRemoveTrack",()=>ac,"shimAddTrackRemoveTrackWithNative",()=>ab,"shimGetSendersWithDtmf",()=>_,"shimMediaStream",()=>Z,"shimOnTrack",()=>$,"shimPeerConnection",()=>ad,"shimSenderReceiverGetStats",()=>aa],96903),a.i(96903),a.s(["fixNegotiationNeeded",()=>ae,"shimAddTrackRemoveTrack",()=>ac,"shimAddTrackRemoveTrackWithNative",()=>ab,"shimGetSendersWithDtmf",()=>_,"shimGetUserMedia",()=>Y,"shimMediaStream",()=>Z,"shimOnTrack",()=>$,"shimPeerConnection",()=>ad,"shimSenderReceiverGetStats",()=>aa],21146);var af=a.i(21146);function ag(a,b){let c=a&&a.navigator,d=a&&a.MediaStreamTrack;if(c.getUserMedia=function(a,b,d){V("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),c.mediaDevices.getUserMedia(a).then(b,d)},!(b.version>55&&"autoGainControl"in c.mediaDevices.getSupportedConstraints())){let a=function(a,b,c){b in a&&!(c in a)&&(a[c]=a[b],delete a[b])},b=c.mediaDevices.getUserMedia.bind(c.mediaDevices);if(c.mediaDevices.getUserMedia=function(c){return"object"==typeof c&&"object"==typeof c.audio&&(a((c=JSON.parse(JSON.stringify(c))).audio,"autoGainControl","mozAutoGainControl"),a(c.audio,"noiseSuppression","mozNoiseSuppression")),b(c)},d&&d.prototype.getSettings){let b=d.prototype.getSettings;d.prototype.getSettings=function(){let c=b.apply(this,arguments);return a(c,"mozAutoGainControl","autoGainControl"),a(c,"mozNoiseSuppression","noiseSuppression"),c}}if(d&&d.prototype.applyConstraints){let b=d.prototype.applyConstraints;d.prototype.applyConstraints=function(c){return"audio"===this.kind&&"object"==typeof c&&(a(c=JSON.parse(JSON.stringify(c)),"autoGainControl","mozAutoGainControl"),a(c,"noiseSuppression","mozNoiseSuppression")),b.apply(this,[c])}}}}function ah(a,b){a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||a.navigator.mediaDevices&&(a.navigator.mediaDevices.getDisplayMedia=function(c){if(!(c&&c.video)){let a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return!0===c.video?c.video={mediaSource:b}:c.video.mediaSource=b,a.navigator.mediaDevices.getUserMedia(c)})}function ai(a){"object"==typeof a&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function aj(a,b){if("object"!=typeof a||!(a.RTCPeerConnection||a.mozRTCPeerConnection))return;!a.RTCPeerConnection&&a.mozRTCPeerConnection&&(a.RTCPeerConnection=a.mozRTCPeerConnection),b.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){let c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=({[b](){return arguments[0]=new("addIceCandidate"===b?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}})[b]});let c={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},d=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){let[a,e,f]=arguments;return d.apply(this,[a||null]).then(a=>{if(b.version<53&&!e)try{a.forEach(a=>{a.type=c[a.type]||a.type})}catch(b){if("TypeError"!==b.name)throw b;a.forEach((b,d)=>{a.set(d,Object.assign({},b,{type:c[b.type]||b.type}))})}return a}).then(e,f)}}function ak(a){if(!("object"==typeof a&&a.RTCPeerConnection&&a.RTCRtpSender)||a.RTCRtpSender&&"getStats"in a.RTCRtpSender.prototype)return;let b=a.RTCPeerConnection.prototype.getSenders;b&&(a.RTCPeerConnection.prototype.getSenders=function(){let a=b.apply(this,[]);return a.forEach(a=>a._pc=this),a});let c=a.RTCPeerConnection.prototype.addTrack;c&&(a.RTCPeerConnection.prototype.addTrack=function(){let a=c.apply(this,arguments);return a._pc=this,a}),a.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function al(a){if(!("object"==typeof a&&a.RTCPeerConnection&&a.RTCRtpSender)||a.RTCRtpSender&&"getStats"in a.RTCRtpReceiver.prototype)return;let b=a.RTCPeerConnection.prototype.getReceivers;b&&(a.RTCPeerConnection.prototype.getReceivers=function(){let a=b.apply(this,[]);return a.forEach(a=>a._pc=this),a}),R(a,"track",a=>(a.receiver._pc=a.srcElement,a)),a.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function am(a){!a.RTCPeerConnection||"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(a){V("removeStream","removeTrack"),this.getSenders().forEach(b=>{b.track&&a.getTracks().includes(b.track)&&this.removeTrack(b)})})}function an(a){a.DataChannel&&!a.RTCDataChannel&&(a.RTCDataChannel=a.DataChannel)}function ao(a){if(!("object"==typeof a&&a.RTCPeerConnection))return;let b=a.RTCPeerConnection.prototype.addTransceiver;b&&(a.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let a=arguments[1]&&arguments[1].sendEncodings;void 0===a&&(a=[]);let c=(a=[...a]).length>0;c&&a.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let d=b.apply(this,arguments);if(c){let{sender:b}=d,c=b.getParameters();"encodings"in c&&(1!==c.encodings.length||0!==Object.keys(c.encodings[0]).length)||(c.encodings=a,b.sendEncodings=a,this.setParametersPromises.push(b.setParameters(c).then(()=>{delete b.sendEncodings}).catch(()=>{delete b.sendEncodings})))}return d})}function ap(a){if(!("object"==typeof a&&a.RTCRtpSender))return;let b=a.RTCRtpSender.prototype.getParameters;b&&(a.RTCRtpSender.prototype.getParameters=function(){let a=b.apply(this,arguments);return"encodings"in a||(a.encodings=[].concat(this.sendEncodings||[{}])),a})}function aq(a){if(!("object"==typeof a&&a.RTCPeerConnection))return;let b=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>b.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):b.apply(this,arguments)}}function ar(a){if(!("object"==typeof a&&a.RTCPeerConnection))return;let b=a.RTCPeerConnection.prototype.createAnswer;a.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>b.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):b.apply(this,arguments)}}a.s(["shimAddTransceiver",()=>ao,"shimCreateAnswer",()=>ar,"shimCreateOffer",()=>aq,"shimGetParameters",()=>ap,"shimOnTrack",()=>ai,"shimPeerConnection",()=>aj,"shimRTCDataChannel",()=>an,"shimReceiverGetStats",()=>al,"shimRemoveStream",()=>am,"shimSenderGetStats",()=>ak],84170),a.i(84170),a.s(["shimAddTransceiver",()=>ao,"shimCreateAnswer",()=>ar,"shimCreateOffer",()=>aq,"shimGetDisplayMedia",()=>ah,"shimGetParameters",()=>ap,"shimGetUserMedia",()=>ag,"shimOnTrack",()=>ai,"shimPeerConnection",()=>aj,"shimRTCDataChannel",()=>an,"shimReceiverGetStats",()=>al,"shimRemoveStream",()=>am,"shimSenderGetStats",()=>ak],63584);var as=a.i(63584);function at(a){if("object"==typeof a&&a.RTCPeerConnection){if("getLocalStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in a.RTCPeerConnection.prototype)){let b=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addStream=function(a){this._localStreams||(this._localStreams=[]),this._localStreams.includes(a)||this._localStreams.push(a),a.getAudioTracks().forEach(c=>b.call(this,c,a)),a.getVideoTracks().forEach(c=>b.call(this,c,a))},a.RTCPeerConnection.prototype.addTrack=function(a,...c){return c&&c.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),b.apply(this,arguments)}}"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(a){this._localStreams||(this._localStreams=[]);let b=this._localStreams.indexOf(a);if(-1===b)return;this._localStreams.splice(b,1);let c=a.getTracks();this.getSenders().forEach(a=>{c.includes(a.track)&&this.removeTrack(a)})})}}function au(a){if("object"==typeof a&&a.RTCPeerConnection&&("getRemoteStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in a.RTCPeerConnection.prototype))){Object.defineProperty(a.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(a){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=a),this.addEventListener("track",this._onaddstreampoly=a=>{a.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);let b=new Event("addstream");b.stream=a,this.dispatchEvent(b)})})}});let b=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){let a=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(b){b.streams.forEach(b=>{if(a._remoteStreams||(a._remoteStreams=[]),a._remoteStreams.indexOf(b)>=0)return;a._remoteStreams.push(b);let c=new Event("addstream");c.stream=b,a.dispatchEvent(c)})}),b.apply(a,arguments)}}}function av(a){if("object"!=typeof a||!a.RTCPeerConnection)return;let b=a.RTCPeerConnection.prototype,c=b.createOffer,d=b.createAnswer,e=b.setLocalDescription,f=b.setRemoteDescription,g=b.addIceCandidate;b.createOffer=function(a,b){let d=arguments.length>=2?arguments[2]:arguments[0],e=c.apply(this,[d]);return b?(e.then(a,b),Promise.resolve()):e},b.createAnswer=function(a,b){let c=arguments.length>=2?arguments[2]:arguments[0],e=d.apply(this,[c]);return b?(e.then(a,b),Promise.resolve()):e};let h=function(a,b,c){let d=e.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d};b.setLocalDescription=h,b.setRemoteDescription=h=function(a,b,c){let d=f.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d},b.addIceCandidate=function(a,b,c){let d=g.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d}}function aw(a){let b=a&&a.navigator;if(b.mediaDevices&&b.mediaDevices.getUserMedia){let a=b.mediaDevices,c=a.getUserMedia.bind(a);b.mediaDevices.getUserMedia=a=>c(ax(a))}!b.getUserMedia&&b.mediaDevices&&b.mediaDevices.getUserMedia&&(b.getUserMedia=(function(a,c,d){b.mediaDevices.getUserMedia(a).then(c,d)}).bind(b))}function ax(a){return a&&void 0!==a.video?Object.assign({},a,{video:function a(b){return W(b)?Object.keys(b).reduce(function(c,d){let e=W(b[d]),f=e?a(b[d]):b[d],g=e&&!Object.keys(f).length;return void 0===f||g?c:Object.assign(c,{[d]:f})},{}):b}(a.video)}):a}function ay(a){if(!a.RTCPeerConnection)return;let b=a.RTCPeerConnection;a.RTCPeerConnection=function(a,c){if(a&&a.iceServers){let b=[];for(let c=0;c<a.iceServers.length;c++){let d=a.iceServers[c];void 0===d.urls&&d.url?(V("RTCIceServer.url","RTCIceServer.urls"),(d=JSON.parse(JSON.stringify(d))).urls=d.url,delete d.url,b.push(d)):b.push(a.iceServers[c])}a.iceServers=b}return new b(a,c)},a.RTCPeerConnection.prototype=b.prototype,"generateCertificate"in b&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:()=>b.generateCertificate})}function az(a){"object"==typeof a&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function aA(a){let b=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(a){if(a){void 0!==a.offerToReceiveAudio&&(a.offerToReceiveAudio=!!a.offerToReceiveAudio);let b=this.getTransceivers().find(a=>"audio"===a.receiver.track.kind);!1===a.offerToReceiveAudio&&b?"sendrecv"===b.direction?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":"recvonly"===b.direction&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):!0!==a.offerToReceiveAudio||b||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==a.offerToReceiveVideo&&(a.offerToReceiveVideo=!!a.offerToReceiveVideo);let c=this.getTransceivers().find(a=>"video"===a.receiver.track.kind);!1===a.offerToReceiveVideo&&c?"sendrecv"===c.direction?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":"recvonly"===c.direction&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):!0!==a.offerToReceiveVideo||c||this.addTransceiver("video",{direction:"recvonly"})}return b.apply(this,arguments)}}function aB(a){"object"!=typeof a||a.AudioContext||(a.AudioContext=a.webkitAudioContext)}a.s(["shimAudioContext",()=>aB,"shimCallbacksAPI",()=>av,"shimConstraints",()=>ax,"shimCreateOfferLegacy",()=>aA,"shimGetUserMedia",()=>aw,"shimLocalStreamsAPI",()=>at,"shimRTCIceServerUrls",()=>ay,"shimRemoteStreamsAPI",()=>au,"shimTrackEventTransceiver",()=>az],9798);var aC=a.i(9798),aD=a.i(88079);function aE(a){if(!a.RTCIceCandidate||a.RTCIceCandidate&&"foundation"in a.RTCIceCandidate.prototype)return;let b=a.RTCIceCandidate;a.RTCIceCandidate=function(a){if("object"==typeof a&&a.candidate&&0===a.candidate.indexOf("a=")&&((a=JSON.parse(JSON.stringify(a))).candidate=a.candidate.substring(2)),a.candidate&&a.candidate.length){let c=new b(a),d=aD.default.parseCandidate(a.candidate);for(let a in d)a in c||Object.defineProperty(c,a,{value:d[a]});return c.toJSON=function(){return{candidate:c.candidate,sdpMid:c.sdpMid,sdpMLineIndex:c.sdpMLineIndex,usernameFragment:c.usernameFragment}},c}return new b(a)},a.RTCIceCandidate.prototype=b.prototype,R(a,"icecandidate",b=>(b.candidate&&Object.defineProperty(b,"candidate",{value:new a.RTCIceCandidate(b.candidate),writable:"false"}),b))}function aF(a){!a.RTCIceCandidate||a.RTCIceCandidate&&"relayProtocol"in a.RTCIceCandidate.prototype||R(a,"icecandidate",a=>{if(a.candidate){let b=aD.default.parseCandidate(a.candidate.candidate);"relay"===b.type&&(a.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[b.priority>>24])}return a})}function aG(a,b){if(!a.RTCPeerConnection)return;"sctp"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let c=function(a){if(!a||!a.sdp)return!1;let b=aD.default.splitSections(a.sdp);return b.shift(),b.some(a=>{let b=aD.default.parseMLine(a);return b&&"application"===b.kind&&-1!==b.protocol.indexOf("SCTP")})},d=function(a){let b=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===b||b.length<2)return -1;let c=parseInt(b[1],10);return c!=c?-1:c},e=function(a){let c=65536;return"firefox"===b.browser&&(c=b.version<57?-1===a?16384:0x7ffffff5:b.version<60?57===b.version?65535:65536:0x7ffffff5),c},f=function(a,c){let d=65536;"firefox"===b.browser&&57===b.version&&(d=65535);let e=aD.default.matchPrefix(a.sdp,"a=max-message-size:");return e.length>0?d=parseInt(e[0].substring(19),10):"firefox"===b.browser&&-1!==c&&(d=0x7ffffff5),d},g=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===b.browser&&b.version>=76){let{sdpSemantics:a}=this.getConfiguration();"plan-b"===a&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(c(arguments[0])){let a,b=d(arguments[0]),c=e(b),g=f(arguments[0],b);a=0===c&&0===g?1/0:0===c||0===g?Math.max(c,g):Math.min(c,g);let h={};Object.defineProperty(h,"maxMessageSize",{get:()=>a}),this._sctp=h}return g.apply(this,arguments)}}function aH(a){if(!(a.RTCPeerConnection&&"createDataChannel"in a.RTCPeerConnection.prototype))return;function b(a,b){let c=a.send;a.send=function(){let d=arguments[0],e=d.length||d.size||d.byteLength;if("open"===a.readyState&&b.sctp&&e>b.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+b.sctp.maxMessageSize+" bytes)");return c.apply(a,arguments)}}let c=a.RTCPeerConnection.prototype.createDataChannel;a.RTCPeerConnection.prototype.createDataChannel=function(){let a=c.apply(this,arguments);return b(a,this),a},R(a,"datachannel",a=>(b(a.channel,a.target),a))}function aI(a){if(!a.RTCPeerConnection||"connectionState"in a.RTCPeerConnection.prototype)return;let b=a.RTCPeerConnection.prototype;Object.defineProperty(b,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(b,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(a){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),a&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=a)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(a=>{let c=b[a];b[a]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{let b=a.target;if(b._lastConnectionState!==b.connectionState){b._lastConnectionState=b.connectionState;let c=new Event("connectionstatechange",a);b.dispatchEvent(c)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),c.apply(this,arguments)}})}function aJ(a,b){if(!a.RTCPeerConnection||"chrome"===b.browser&&b.version>=71||"safari"===b.browser&&b._safariVersion>=13.1)return;let c=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(b){if(b&&b.sdp&&-1!==b.sdp.indexOf("\na=extmap-allow-mixed")){let c=b.sdp.split("\n").filter(a=>"a=extmap-allow-mixed"!==a.trim()).join("\n");a.RTCSessionDescription&&b instanceof a.RTCSessionDescription?arguments[0]=new a.RTCSessionDescription({type:b.type,sdp:c}):b.sdp=c}return c.apply(this,arguments)}}function aK(a,b){if(!(a.RTCPeerConnection&&a.RTCPeerConnection.prototype))return;let c=a.RTCPeerConnection.prototype.addIceCandidate;c&&0!==c.length&&(a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===b.browser&&b.version<78||"firefox"===b.browser&&b.version<68||"safari"===b.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():c.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function aL(a,b){if(!(a.RTCPeerConnection&&a.RTCPeerConnection.prototype))return;let c=a.RTCPeerConnection.prototype.setLocalDescription;c&&0!==c.length&&(a.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if("object"!=typeof a||a.type&&a.sdp)return c.apply(this,arguments);if(!(a={type:a.type,sdp:a.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer"}return a.sdp||"offer"!==a.type&&"answer"!==a.type?c.apply(this,[a]):("offer"===a.type?this.createOffer:this.createAnswer).apply(this).then(a=>c.apply(this,[a]))})}a.s(["removeExtmapAllowMixed",()=>aJ,"shimAddIceCandidateNullOrEmpty",()=>aK,"shimConnectionState",()=>aI,"shimMaxMessageSize",()=>aG,"shimParameterlessSetLocalDescription",()=>aL,"shimRTCIceCandidate",()=>aE,"shimRTCIceCandidateRelayProtocol",()=>aF,"shimSendThrowTypeError",()=>aH],78345);var aM=a.i(78345);!function({window:a}={},b={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let c=function(a){let b={browser:null,version:null};if(void 0===a||!a.navigator||!a.navigator.userAgent)return b.browser="Not a browser.",b;let{navigator:c}=a;if(c.userAgentData&&c.userAgentData.brands){let a=c.userAgentData.brands.find(a=>"Chromium"===a.brand);if(a)return{browser:"chrome",version:parseInt(a.version,10)}}return c.mozGetUserMedia?(b.browser="firefox",b.version=parseInt(Q(c.userAgent,/Firefox\/(\d+)\./,1))):c.webkitGetUserMedia||!1===a.isSecureContext&&a.webkitRTCPeerConnection?(b.browser="chrome",b.version=parseInt(Q(c.userAgent,/Chrom(e|ium)\/(\d+)\./,2))):a.RTCPeerConnection&&c.userAgent.match(/AppleWebKit\/(\d+)\./)?(b.browser="safari",b.version=parseInt(Q(c.userAgent,/AppleWebKit\/(\d+)\./,1)),b.supportsUnifiedPlan=a.RTCRtpTransceiver&&"currentDirection"in a.RTCRtpTransceiver.prototype,b._safariVersion=Q(c.userAgent,/Version\/(\d+(\.?\d+))/,1)):b.browser="Not a supported browser.",b}(a),d={browserDetails:c,commonShim:aM,extractVersion:Q,disableLog:S,disableWarnings:T,sdp:aD};switch(c.browser){case"chrome":if(!af||!af.shimPeerConnection||!b.shimChrome){U("Chrome shim is not included in this adapter release.");break}if(null===c.version){U("Chrome shim can not determine version, not shimming.");break}U("adapter.js shimming chrome."),d.browserShim=af,aK(a,c),aL(a,c),af.shimGetUserMedia(a,c),af.shimMediaStream(a,c),af.shimPeerConnection(a,c),af.shimOnTrack(a,c),af.shimAddTrackRemoveTrack(a,c),af.shimGetSendersWithDtmf(a,c),af.shimSenderReceiverGetStats(a,c),af.fixNegotiationNeeded(a,c),aE(a,c),aF(a,c),aI(a,c),aG(a,c),aH(a,c),aJ(a,c);break;case"firefox":if(!as||!as.shimPeerConnection||!b.shimFirefox){U("Firefox shim is not included in this adapter release.");break}U("adapter.js shimming firefox."),d.browserShim=as,aK(a,c),aL(a,c),as.shimGetUserMedia(a,c),as.shimPeerConnection(a,c),as.shimOnTrack(a,c),as.shimRemoveStream(a,c),as.shimSenderGetStats(a,c),as.shimReceiverGetStats(a,c),as.shimRTCDataChannel(a,c),as.shimAddTransceiver(a,c),as.shimGetParameters(a,c),as.shimCreateOffer(a,c),as.shimCreateAnswer(a,c),aE(a,c),aI(a,c),aG(a,c),aH(a,c);break;case"safari":if(!aC||!b.shimSafari){U("Safari shim is not included in this adapter release.");break}U("adapter.js shimming safari."),d.browserShim=aC,aK(a,c),aL(a,c),aC.shimRTCIceServerUrls(a,c),aC.shimCreateOfferLegacy(a,c),aC.shimCallbacksAPI(a,c),aC.shimLocalStreamsAPI(a,c),aC.shimRemoteStreamsAPI(a,c),aC.shimTrackEventTransceiver(a,c),aC.shimGetUserMedia(a,c),aC.shimAudioContext(a,c),aE(a,c),aF(a,c),aG(a,c),aH(a,c),aJ(a,c);break;default:U("Unsupported browser!")}}({window:void 0});let aN={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},aO={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},aP={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},aQ={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};var aR=a=>a instanceof Date,aS=a=>null!=a&&!Array.isArray(a)&&"object"==typeof a&&!aR(a),aT=a=>null==a||"object"!=typeof a;function aU(a){let{onClick:b,disabled:c,className:d}=a,e={cursor:c?"default":"pointer",stroke:c?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...a.style};return(0,N.jsxs)("svg",{onClick:c?void 0:b,className:d,style:e,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("title",{children:"Camera Off"}),(0,N.jsx)("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"})]})}function aV(a){let{onClick:b,disabled:c,className:d}=a,e={cursor:c?"default":"pointer",stroke:c?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...a.style};return(0,N.jsxs)("svg",{onClick:c?void 0:b,className:d,style:e,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("title",{children:"Camera On"}),(0,N.jsx)("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),(0,N.jsx)("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"})]})}function aW(a){let{scanning:b,startScanning:c,stopScanning:d}=a,[e,f]=(0,O.useState)(!1);return(0,N.jsx)("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:e?"default":"pointer"},children:(0,N.jsx)(b?aU:aV,{disabled:e,onClick:function(){f(!0),b?d():c(),setTimeout(()=>f(!1),1e3)}})})}function aX(a){let{onClick:b,className:c,style:d}=a;return(0,N.jsxs)("svg",{onClick:b,width:"30px",height:"30px",viewBox:"0 0 24 24",className:c,style:d,xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("title",{children:"Torch Off"}),(0,N.jsx)("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"})]})}function aY(a){let{onClick:b,className:c,style:d}=a;return(0,N.jsxs)("svg",{onClick:b,width:"30px",height:"30px",viewBox:"0 0 24 24",className:c,style:d,xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("title",{children:"Torch On"}),(0,N.jsx)("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"})]})}function aZ(a){let{status:b,scanning:c,torchToggle:d}=a;return c&&d?(0,N.jsx)("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:b?(0,N.jsx)(aX,{onClick:()=>{d(!1)}}):(0,N.jsx)(aY,{onClick:()=>{d(!0)}})}):null}function a$(a){let{onClick:b,className:c,disabled:d=!1}=a,e={cursor:d?"default":"pointer",stroke:d?"grey":"yellow",fill:d?"grey":"yellow",...a.style};return(0,N.jsxs)("svg",{onClick:d?void 0:b,width:"30px",height:"30px",viewBox:"0 0 24 24",className:c,style:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("title",{children:"Zoom In"}),(0,N.jsx)("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"})]})}function a_(a){let{onClick:b,className:c,disabled:d=!1}=a,e={cursor:d?"default":"pointer",stroke:d?"grey":"yellow",fill:d?"grey":"yellow",...a.style};return(0,N.jsxs)("svg",{onClick:d?void 0:b,width:"30px",height:"30px",viewBox:"0 0 24 24",className:c,style:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("title",{children:"Zoom Out"}),(0,N.jsx)("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"})]})}function a0(a){let{scanning:b,capabilities:c,onZoom:d,value:e}=a;if(!b||!d)return null;let f=(c.max-c.min)/3;return(0,N.jsxs)(O.Fragment,{children:[(0,N.jsx)("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:(0,N.jsx)(a_,{disabled:e<=c.min,onClick:function(){d(Math.max(e-f,c.min))}})}),(0,N.jsx)("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:(0,N.jsx)(a$,{disabled:e>=c.max,onClick:function(){d(Math.min(e+f,c.max))}})})]})}let a1={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},a2={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},a3={position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},a4={position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},a5={position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},a6={position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},a7={position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},a8={position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"};function a9(a){let{scanning:b,capabilities:c,onOff:d,torch:e,zoom:f,startScanning:g,stopScanning:h}=a;return(0,N.jsx)("div",{style:a1,children:(0,N.jsxs)("div",{style:a2,children:[(0,N.jsx)("div",{style:a3,children:(0,N.jsxs)("div",{style:a4,children:[(0,N.jsx)("div",{style:a5}),(0,N.jsx)("div",{style:a6}),(0,N.jsx)("div",{style:a7}),(0,N.jsx)("div",{style:a8})]})}),d&&(0,N.jsx)(aW,{scanning:b,startScanning:g,stopScanning:h}),e&&c.torch&&(0,N.jsx)(aZ,{scanning:b,status:e.status,torchToggle:e.toggle}),f&&c.zoom&&(0,N.jsx)(a0,{scanning:b,capabilities:c.zoom,value:f.value,onZoom:f.onChange})]})})}function ba(a){if(null===a)throw Error("Canvas should always be defined when component is mounted.");let b=a.getContext("2d");if(null===b)throw Error("Canvas 2D context should be non-null");b.clearRect(0,0,a.width,a.height)}function bb(a){let{onScan:b,constraints:c,formats:d=["any"],paused:e=!1,components:f,children:g,styles:h,classNames:i,allowMultiple:j,scanDelay:k,onError:l,sound:m}=a,n=(0,O.useRef)(null),o=(0,O.useRef)(null),p=(0,O.useRef)(null),q=(0,O.useMemo)(()=>({...aO,...c}),[c]),r=(0,O.useMemo)(()=>({...aN,...f}),[f]),[s,t]=(0,O.useState)(!1),[u,v]=(0,O.useState)(!0),[w,x]=(0,O.useState)(q),y=function(){let a=(0,O.useRef)(Promise.resolve({type:"stop",data:{}})),b=(0,O.useRef)(null),c=(0,O.useRef)(null),[d,e]=(0,O.useState)({}),[f,g]=(0,O.useState)({}),h=(0,O.useCallback)(async(a,d)=>{if(!window.isSecureContext)throw Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(void 0===navigator?.mediaDevices?.getUserMedia)throw Error("this browser has no Stream API support");let f=await navigator.mediaDevices.getUserMedia({audio:!1,video:d});void 0!==a.srcObject?a.srcObject=f:void 0!==a.mozSrcObject?a.mozSrcObject=f:window.URL.createObjectURL?a.src=window.URL.createObjectURL(f):window.webkitURL?a.src=window.webkitURL.createObjectURL(f):a.src=f.id,await Promise.race([a.play(),new Promise(a=>setTimeout(a,3e3)).then(()=>{throw Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(a=>setTimeout(a,500));let[h]=f.getVideoTracks();return g(h.getSettings()),e(h?.getCapabilities?.()??{}),b.current=f,c.current=h,{type:"start",data:{videoEl:a,stream:f,constraints:d}}},[]),i=(0,O.useCallback)(async(a,d)=>{for(let b of(a.src="",a.srcObject=null,a.load(),d.getTracks()))d.removeTrack(b),b.stop();return b.current=null,c.current=null,g({}),{type:"stop",data:{}}},[]),j=(0,O.useCallback)(async(b,{constraints:c,restart:d=!1})=>{let e=null;a.current=a.current.then(a=>{if("start"===a.type){let{data:{videoEl:e,stream:f,constraints:g}}=a;return d||b!==e||c!==g?i(e,f).then(()=>h(b,c)):a}return h(b,c)}).catch(a=>(e=a,{type:"stop",data:{}}));let f=await a.current;if(e)throw e;if("stop"===f.type)throw Error("Something went wrong with the camera task queue (start task).")},[h,i]),k=(0,O.useCallback)(async()=>{if(a.current=a.current.then(a=>{if("stop"===a.type)return a;let{data:{videoEl:b,stream:c}}=a;return i(b,c)}),"start"===(await a.current).type)throw Error("Something went wrong with the camera task queue (stop task).")},[i]),l=(0,O.useCallback)(async a=>{let b=c.current;if(!b)throw Error("No active video track found.");{a.advanced?.[0].zoom&&b.getCapabilities().torch&&await b.applyConstraints({advanced:[{torch:!1}]}),await b.applyConstraints(a);let c=b.getCapabilities(),d=b.getSettings();e(c),g(d)}},[]);return(0,O.useEffect)(()=>()=>{(async()=>{await k()})()},[k]),{capabilities:d,settings:f,startCamera:j,stopCamera:k,updateConstraints:l}}(),z=(0,O.useRef)(y),A=(0,O.useRef)(l),B=(0,O.useRef)(r.tracker);(0,O.useEffect)(()=>{z.current=y},[y]),(0,O.useEffect)(()=>{A.current=l},[l]),(0,O.useEffect)(()=>{B.current=r.tracker},[r.tracker]);let C=(0,O.useCallback)(a=>{!function(a,b,c,d){if(null==c)throw Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");if(null==b)throw Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(0===a.length||void 0===d)ba(c);else{let e=b.offsetWidth,f=b.offsetHeight,g=b.videoWidth,h=b.videoHeight,i=Math.max(e/g,f/h),j=g*i,k=h*i,l=j/g,m=k/h,n=(e-j)/2,o=(f-k)/2,p=({x:a,y:b})=>({x:Math.floor(a*l),y:Math.floor(b*m)}),q=({x:a,y:b})=>({x:Math.floor(a+n),y:Math.floor(b+o)}),r=a.map(a=>{let{boundingBox:b,cornerPoints:c}=a,{x:d,y:e}=q(p({x:b.x,y:b.y})),{x:f,y:g}=p({x:b.width,y:b.height});return{...a,cornerPoints:c.map(a=>q(p(a))),boundingBox:DOMRectReadOnly.fromRect({x:d,y:e,width:f,height:g})}});c.width=b.offsetWidth,c.height=b.offsetHeight;let s=c.getContext("2d");if(null===s)throw Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");d(r,s)}}(a,n.current,p.current,B.current)},[]),{startScanning:D,stopScanning:E}=function(a){let{videoElementRef:b,onScan:c,onFound:d,retryDelay:e=100,scanDelay:f=0,formats:g=[],allowMultiple:h=!1,sound:i=!0}=a,j=(0,O.useRef)(new M({formats:g})),k=(0,O.useRef)(null),l=(0,O.useRef)(null);(0,O.useEffect)(()=>{j.current=new M({formats:g})},[g]),(0,O.useEffect)(()=>{},[i]);let m=(0,O.useCallback)(a=>async g=>{if(null!==b.current&&b.current.readyState>1){let{lastScan:n,contentBefore:o,lastScanHadContent:p}=a;if(g-n<e)l.current=window.requestAnimationFrame(m(a));else{let e=await j.current.detect(b.current),n=e.some(a=>!o.includes(a.rawValue)),q=e.length>0,r=a.lastOnScan;(n||h&&q&&g-r>=f)&&(i&&k.current&&k.current.paused&&k.current.play().catch(a=>console.error("Error playing the sound",a)),r=g,c(e)),q&&d(e),!q&&p&&d(e);let s={lastScan:g,lastOnScan:r,lastScanHadContent:q,contentBefore:n?e.map(a=>a.rawValue):o};l.current=window.requestAnimationFrame(m(s))}}},[c,d,e,h,f,i]);return{startScanning:(0,O.useCallback)(()=>{let a=performance.now();l.current=window.requestAnimationFrame(m({lastScan:a,lastOnScan:a,contentBefore:[],lastScanHadContent:!1}))},[m]),stopScanning:(0,O.useCallback)(()=>{null!==l.current&&(window.cancelAnimationFrame(l.current),l.current=null)},[])}}({videoElementRef:n,onScan:b,onFound:C,formats:d,retryDelay:void 0===r.tracker?500:10,scanDelay:k,allowMultiple:j,sound:m});(0,O.useEffect)(()=>(t(!0),()=>{t(!1)}),[]),(0,O.useEffect)(()=>{!function a(b,c){if(aT(b)||aT(c))return b===c;if(aR(b)&&aR(c))return b.getTime()===c.getTime();let d=Object.keys(b),e=Object.keys(c);if(d.length!==e.length)return!1;for(let f of d){let d=b[f];if(!e.includes(f))return!1;if("ref"!==f){let b=c[f];if(aR(d)&&aR(b)||aS(d)&&aS(b)||Array.isArray(d)&&Array.isArray(b)?!a(d,b):d!==b)return!1}}return!0}(q,w)&&(c?.deviceId&&delete q.facingMode,x(q))},[c,q,w]);let F=(0,O.useMemo)(()=>({constraints:w,shouldStream:s&&!e}),[w,s,e]),G=(0,O.useCallback)(async()=>{let a=n.current;if(null==a)throw Error("Video should be defined when component is mounted.");let b=o.current;if(null==b)throw Error("Canvas should be defined when component is mounted.");let c=b.getContext("2d");if(null==c)throw Error("Canvas should be defined when component is mounted.");if(F.shouldStream){await z.current.stopCamera(),v(!1);try{await z.current.startCamera(a,F),a?v(!0):await z.current.stopCamera()}catch(a){A.current?.(a),console.error("error",a)}}else b.width=a.videoWidth,b.height=a.videoHeight,c.drawImage(a,0,0,a.videoWidth,a.videoHeight),await z.current.stopCamera(),v(!1)},[F]);(0,O.useEffect)(()=>{(async()=>{await G()})()},[G]);let H=(0,O.useMemo)(()=>F.shouldStream&&u,[F.shouldStream,u]);return(0,O.useEffect)(()=>{if(H){if(void 0===o.current)throw Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(ba(o.current),void 0===p.current)throw Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(ba(p.current),null==n.current)throw Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");D()}return()=>{E()}},[H,D,E]),(0,N.jsxs)("div",{style:{...aP,...h?.container},className:i?.container,children:[(0,N.jsx)("video",{ref:n,style:{...aQ,...h?.video,visibility:e?"hidden":"visible"},className:i?.video,autoPlay:!0,muted:!0,playsInline:!0}),(0,N.jsx)("canvas",{ref:o,style:{display:e?"block":"none",position:"absolute",width:"100%",height:"100%"}}),(0,N.jsx)("canvas",{ref:p,style:{position:"absolute",width:"100%",height:"100%"}}),(0,N.jsxs)("div",{style:{position:"absolute",width:"100%",height:"100%"},children:[r.finder&&(0,N.jsx)(a9,{scanning:u,capabilities:y.capabilities,onOff:r.onOff,zoom:r.zoom&&y.settings.zoom?{value:y.settings.zoom,onChange:async a=>{let b={...w,advanced:[{zoom:a}]};await y.updateConstraints(b)}}:void 0,torch:r.torch?{status:y.settings.torch??!1,toggle:async a=>{let b={...w,advanced:[{torch:a}]};await y.updateConstraints(b)}}:void 0,startScanning:async()=>await G(),stopScanning:async()=>{await y.stopCamera(),ba(p.current),v(!1)}}),g]})]})}a.s(["Scanner",()=>bb],34479)}];

//# sourceMappingURL=node_modules_a64f85fb._.js.map